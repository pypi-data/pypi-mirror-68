import{S as l,a,s,L as n,a3 as t,e as c,t as r,c as e,d as o,h as i,g as u,j as h,k as f,l as d,n as m,b as p,f as $,ab as v,a4 as g,z as k,B as E,m as w,u as b,v as y,w as A,x as I,r as D,q as V,P,D as T,C as x,ac as N,I as S,U as _,ag as O,J as B,R as U,T as q,af as M,A as j,a5 as L,a7 as R,i as C,a6 as H,aq as z,G as F,N as G,ad as J,aj as K,_ as Q,$ as W,ar as X,as as Y,am as Z,an as ll,ao as al,ap as sl}from"./client.fa249440.js";function nl(l,a,s){const n=l.slice();return n[11]=a[s],n[13]=s,n}function tl(l){let a,s,n,t,p=l[1].name+"";return{c(){a=c("label"),s=r("Add "),n=r(p),t=r(" to a playlist"),this.h()},l(l){a=e(l,"LABEL",{class:!0});var c=o(a);s=i(c,"Add "),n=i(c,p),t=i(c," to a playlist"),c.forEach(u),this.h()},h(){h(a,"class","label")},m(l,c){f(l,a,c),d(a,s),d(a,n),d(a,t)},p(l,a){2&a&&p!==(p=l[1].name+"")&&m(n,p)},d(l){l&&u(a)}}}function cl(l){let a,s=l[15].message+"";return{c(){a=r(s)},l(l){a=i(l,s)},m(l,s){f(l,a,s)},p(l,n){8&n&&s!==(s=l[15].message+"")&&m(a,s)},i:j,o:j,d(l){l&&u(a)}}}function rl(l){let a,s,t,v,g,w,A,D,P,T,N=(l[14].tracks?l[14].tracks.length:"0")+"";const S=new n({props:{icon:R,class:"icon"}});return{c(){a=c("div"),s=r("("),t=r(N),v=r(")"),g=p(),w=c("div"),A=c("a"),b(S.$$.fragment),this.h()},l(l){a=e(l,"DIV",{class:!0});var n=o(a);s=i(n,"("),t=i(n,N),v=i(n,")"),n.forEach(u),g=$(l),w=e(l,"DIV",{class:!0});var c=o(w);A=e(c,"A",{href:!0});var r=o(A);y(S.$$.fragment,r),r.forEach(u),c.forEach(u),this.h()},h(){h(a,"class","column is-narrow"),h(A,"href",D=null),h(w,"class","column is-narrow")},m(n,c,r){f(n,a,c),d(a,s),d(a,t),d(a,v),f(n,g,c),f(n,w,c),d(w,A),I(S,A,null),P=!0,r&&T(),T=V(A,"click",function(){C(l[4](l[14]))&&l[4](l[14]).apply(this,arguments)})},p(a,s){l=a,(!P||8&s)&&N!==(N=(l[14].tracks?l[14].tracks.length:"0")+"")&&m(t,N)},i(l){P||(k(S.$$.fragment,l),P=!0)},o(l){E(S.$$.fragment,l),P=!1},d(l){l&&u(a),l&&u(g),l&&u(w),x(S),T()}}}function el(l){let a;return{c(){a=r("loading..")},l(l){a=i(l,"loading..")},m(l,s){f(l,a,s)},p:j,i:j,o:j,d(l){l&&u(a)}}}function ol(l){let a,s,n,t,w,b,y,A,I=l[11].name+"",D={ctx:l,current:null,token:null,pending:el,then:rl,catch:cl,value:14,error:15,blocks:[,,,]};return g(b=v(l[11].uri),D),{c(){a=c("div"),s=c("div"),n=c("div"),t=r(I),w=p(),D.block.c(),y=p(),this.h()},l(l){a=e(l,"DIV",{class:!0});var c=o(a);s=e(c,"DIV",{class:!0});var r=o(s);n=e(r,"DIV",{class:!0});var h=o(n);t=i(h,I),h.forEach(u),w=$(r),D.block.l(r),r.forEach(u),y=$(c),c.forEach(u),this.h()},h(){h(n,"class","column"),h(s,"class","columns is-mobile"),h(a,"class","list-item")},m(l,c){f(l,a,c),d(a,s),d(s,n),d(n,t),d(s,w),D.block.m(s,D.anchor=null),D.mount=(()=>s),D.anchor=null,d(a,y),A=!0},p(a,s){if(l=a,(!A||8&s)&&I!==(I=l[11].name+"")&&m(t,I),D.ctx=l,8&s&&b!==(b=v(l[11].uri))&&g(b,D));else{const a=l.slice();a[14]=D.resolved,D.block.p(a,s)}},i(l){A||(k(D.block),A=!0)},o(l){for(let l=0;l<3;l+=1){const a=D.blocks[l];E(a)}A=!1},d(l){l&&u(a),D.block.d(),D.token=null,D=null}}}function il(l){let a,s,n,t={ctx:l,current:null,token:null,pending:ml,then:hl,catch:ul,value:10,blocks:[,,,]};return g(s=l[2],t),{c(){a=w(),t.block.c()},l(l){a=w(),t.block.l(l)},m(l,s){f(l,a,s),t.block.m(l,t.anchor=s),t.mount=(()=>a.parentNode),t.anchor=a,n=!0},p(a,n){if(l=a,t.ctx=l,4&n&&s!==(s=l[2])&&g(s,t));else{const a=l.slice();a[10]=t.resolved,t.block.p(a,n)}},i(l){n||(k(t.block),n=!0)},o(l){for(let l=0;l<3;l+=1){const a=t.blocks[l];E(a)}n=!1},d(l){l&&u(a),t.block.d(l),t.token=null,t=null}}}function ul(l){return{c:j,l:j,m:j,p:j,i:j,o:j,d:j}}function hl(l){let a,s,n,t;const c=[dl,fl],r=[];function e(l,a){return l[10]?0:1}return a=e(l),s=r[a]=c[a](l),{c(){s.c(),n=w()},l(l){s.l(l),n=w()},m(l,s){r[a].m(l,s),f(l,n,s),t=!0},p(l,t){let o=a;(a=e(l))===o?r[a].p(l,t):(P(),E(r[o],1,1,()=>{r[o]=null}),T(),(s=r[a])||(s=r[a]=c[a](l)).c(),k(s,1),s.m(n.parentNode,n))},i(l){t||(k(s),t=!0)},o(l){E(s),t=!1},d(l){r[a].d(l),l&&u(n)}}}function fl(l){let a;return{c(){a=r("Error")},l(l){a=i(l,"Error")},m(l,s){f(l,a,s)},p:j,i:j,o:j,d(l){l&&u(a)}}}function dl(l){let a,s,t;const r=new n({props:{icon:H,class:"icon"}});return{c(){a=c("a"),b(r.$$.fragment),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var s=o(a);y(r.$$.fragment,s),s.forEach(u),this.h()},h(){h(a,"class","button"),h(a,"href",s=null)},m(l,s){f(l,a,s),I(r,a,null),t=!0},p:j,i(l){t||(k(r.$$.fragment,l),t=!0)},o(l){E(r.$$.fragment,l),t=!1},d(l){l&&u(a),x(r)}}}function ml(l){let a,s,t,m,v,g;const w=new n({props:{icon:L,spin:!0,class:"icon"}});return{c(){a=c("a"),b(w.$$.fragment),t=p(),m=c("button"),v=r("Save changes"),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var s=o(a);y(w.$$.fragment,s),s.forEach(u),t=$(l),m=e(l,"BUTTON",{class:!0});var n=o(m);v=i(n,"Save changes"),n.forEach(u),this.h()},h(){h(a,"class","button"),h(a,"href",s=null),h(m,"class","button is-success")},m(l,s){f(l,a,s),I(w,a,null),f(l,t,s),f(l,m,s),d(m,v),g=!0},p:j,i(l){g||(k(w.$$.fragment,l),g=!0)},o(l){E(w.$$.fragment,l),g=!1},d(l){l&&u(a),x(w),l&&u(t),l&&u(m)}}}function pl(l){let a,s,m,v,g,w,S,_,O,B,U,q,M,j,L,R,C,H,z,F,G;const J=new n({props:{icon:t,class:"icon"}});let K=l[1]&&tl(l),Q=l[3],W=[];for(let a=0;a<Q.length;a+=1)W[a]=ol(nl(l,Q,a));const X=l=>E(W[l],1,1,()=>{W[l]=null});let Y=l[2]&&il(l);return{c(){a=c("div"),s=c("div"),m=p(),v=c("div"),g=c("header"),w=c("p"),S=r("Add to playlist"),_=p(),O=c("a"),b(J.$$.fragment),U=p(),q=c("section"),K&&K.c(),M=p(),j=c("div");for(let l=0;l<W.length;l+=1)W[l].c();L=r("\n       "),R=p(),C=c("footer"),Y&&Y.c(),H=p(),z=c("button"),this.h()},l(l){a=e(l,"DIV",{class:!0});var n=o(a);s=e(n,"DIV",{class:!0}),o(s).forEach(u),m=$(n),v=e(n,"DIV",{class:!0});var t=o(v);g=e(t,"HEADER",{class:!0});var c=o(g);w=e(c,"P",{class:!0});var r=o(w);S=i(r,"Add to playlist"),r.forEach(u),_=$(c),O=e(c,"A",{href:!0,"aria-label":!0});var h=o(O);y(J.$$.fragment,h),h.forEach(u),c.forEach(u),U=$(t),q=e(t,"SECTION",{class:!0});var f=o(q);K&&K.l(f),M=$(f),j=e(f,"DIV",{class:!0});var d=o(j);for(let l=0;l<W.length;l+=1)W[l].l(d);d.forEach(u),L=i(f,"\n       "),f.forEach(u),R=$(t),C=e(t,"FOOTER",{class:!0});var p=o(C);Y&&Y.l(p),p.forEach(u),t.forEach(u),H=$(n),z=e(n,"BUTTON",{class:!0,"aria-label":!0}),o(z).forEach(u),n.forEach(u),this.h()},h(){h(s,"class","modal-background"),h(w,"class","modal-card-title"),h(O,"href",B=null),h(O,"aria-label","close"),h(g,"class","modal-card-head"),h(j,"class","list is-hoverable"),h(q,"class","modal-card-body"),h(C,"class","modal-card-foot"),h(v,"class","modal-card"),h(z,"class","modal-close is-large"),h(z,"aria-label","close"),h(a,"class","modal"),A(a,"is-active",l[0])},m(n,t,c){f(n,a,t),d(a,s),d(a,m),d(a,v),d(v,g),d(g,w),d(w,S),d(g,_),d(g,O),I(J,O,null),d(v,U),d(v,q),K&&K.m(q,null),d(q,M),d(q,j);for(let l=0;l<W.length;l+=1)W[l].m(j,null);d(q,L),d(v,R),d(v,C),Y&&Y.m(C,null),d(a,H),d(a,z),F=!0,c&&D(G),G=[V(s,"click",l[7]),V(O,"click",l[8]),V(z,"click",l[9])]},p(l,[s]){if(l[1]?K?K.p(l,s):((K=tl(l)).c(),K.m(q,M)):K&&(K.d(1),K=null),24&s){let a;for(Q=l[3],a=0;a<Q.length;a+=1){const n=nl(l,Q,a);W[a]?(W[a].p(n,s),k(W[a],1)):(W[a]=ol(n),W[a].c(),k(W[a],1),W[a].m(j,null))}for(P(),a=Q.length;a<W.length;a+=1)X(a);T()}l[2]?Y?(Y.p(l,s),k(Y,1)):((Y=il(l)).c(),k(Y,1),Y.m(C,null)):Y&&(P(),E(Y,1,1,()=>{Y=null}),T()),1&s&&A(a,"is-active",l[0])},i(l){if(!F){k(J.$$.fragment,l);for(let l=0;l<Q.length;l+=1)k(W[l]);k(Y),F=!0}},o(l){E(J.$$.fragment,l),W=W.filter(Boolean);for(let l=0;l<W.length;l+=1)E(W[l]);E(Y),F=!1},d(l){l&&u(a),x(J),K&&K.d(),N(W,l),Y&&Y.d(),D(G)}}}function $l(l,a,s){let n,t;S(l,_,l=>s(5,n=l)),S(l,O,l=>s(3,t=l));let c,{showAddToPlaylistModal:r}=a,{track:e}=a;B(async()=>{U(_,n=await q()),U(O,t=await M())});const o=async l=>{return l.tracks?l.tracks.push(e):l.tracks=[e],!!await n.playlists.save({playlist:l})&&(U(O,t=await M()),!0)};return l.$set=(l=>{"showAddToPlaylistModal"in l&&s(0,r=l.showAddToPlaylistModal),"track"in l&&s(1,e=l.track)}),[r,e,c,t,l=>{s(2,c=o(l))},n,o,()=>s(0,r=!r),()=>s(0,r=!r),()=>s(0,r=!r)]}class vl extends l{constructor(l){super(),a(this,l,$l,pl,s,{showAddToPlaylistModal:0,track:1})}}function gl(l,a,s){const n=l.slice();return n[24]=a[s],n[26]=s,n}function kl(l,a,s){const n=l.slice();return n[27]=a[s],n}function El(l){let a,s,n;return{c(){a=c("a"),s=r("loading\n              "),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var n=o(a);s=i(n,"loading\n              "),n.forEach(u),this.h()},h(){h(a,"href",n=null),h(a,"class","dropdown-item")},m(l,n){f(l,a,n),d(a,s)},d(l){l&&u(a)}}}function wl(l){let a,s,n,t,v,g,k,E,w,b=l[27]+"";return{c(){a=c("a"),s=c("label"),n=c("input"),v=p(),g=r(b),k=p(),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var t=o(a);s=e(t,"LABEL",{class:!0});var c=o(s);n=e(c,"INPUT",{value:!0,type:!0}),v=$(c),g=i(c,b),c.forEach(u),k=$(t),t.forEach(u),this.h()},h(){n.__value=t=l[27],n.value=n.__value,h(n,"type","checkbox"),l[18][0].push(n),h(s,"class","checkbox"),h(a,"href",E=null),h(a,"class","dropdown-item")},m(t,c,r){f(t,a,c),d(a,s),d(s,n),n.checked=~l[1].indexOf(n.__value),d(s,v),d(s,g),d(a,k),r&&w(),w=V(n,"change",l[17])},p(l,a){4&a&&t!==(t=l[27])&&(n.__value=t),n.value=n.__value,2&a&&(n.checked=~l[1].indexOf(n.__value)),4&a&&b!==(b=l[27]+"")&&m(g,b)},d(s){s&&u(a),l[18][0].splice(l[18][0].indexOf(n),1),w()}}}function bl(l){let a,s,t,m,v,g,w,N,S,_,O,B,U,q,M,j,L,R,C,H,z;const F=[Al,yl],Q=[];function W(l,a){return l[5]?0:1}m=W(l),v=Q[m]=F[m](l);const X=new n({props:{icon:G,class:"icon is-small"}}),Y=new n({props:{icon:J,class:"icon is-small"}}),Z=new n({props:{icon:K,class:"icon is-small"}});return{c(){a=c("div"),s=c("div"),t=c("div"),v.c(),g=p(),w=c("div"),N=c("div"),S=c("a"),b(X.$$.fragment),_=r(" \n                  Play All"),B=p(),U=c("a"),b(Y.$$.fragment),q=r(" \n                  Shuffle & Play All"),j=p(),L=c("a"),b(Z.$$.fragment),R=r(" \n                  Add to queue"),this.h()},l(l){a=e(l,"DIV",{class:!0});var n=o(a);s=e(n,"DIV",{class:!0});var c=o(s);t=e(c,"DIV",{class:!0});var r=o(t);v.l(r),r.forEach(u),g=$(c),w=e(c,"DIV",{class:!0,id:!0,role:!0});var h=o(w);N=e(h,"DIV",{class:!0});var f=o(N);S=e(f,"A",{href:!0,class:!0});var d=o(S);y(X.$$.fragment,d),_=i(d," \n                  Play All"),d.forEach(u),B=$(f),U=e(f,"A",{href:!0,class:!0});var m=o(U);y(Y.$$.fragment,m),q=i(m," \n                  Shuffle & Play All"),m.forEach(u),j=$(f),L=e(f,"A",{href:!0,class:!0});var p=o(L);y(Z.$$.fragment,p),R=i(p," \n                  Add to queue"),p.forEach(u),f.forEach(u),h.forEach(u),c.forEach(u),n.forEach(u),this.h()},h(){h(t,"class","dropdown-trigger"),h(S,"href",O=null),h(S,"class","dropdown-item"),h(U,"href",M=null),h(U,"class","dropdown-item"),h(L,"href",C=null),h(L,"class","dropdown-item"),h(N,"class","dropdown-content"),h(w,"class","dropdown-menu"),h(w,"id","dropdown-menu"),h(w,"role","menu"),h(s,"class","dropdown is-right"),A(s,"is-active",l[5]),h(a,"class","column")},m(n,c,r){f(n,a,c),d(a,s),d(s,t),Q[m].m(t,null),d(s,g),d(s,w),d(w,N),d(N,S),I(X,S,null),d(S,_),d(N,B),d(N,U),I(Y,U,null),d(U,q),d(N,j),d(N,L),I(Z,L,null),d(L,R),H=!0,r&&D(z),z=[V(t,"click",l[19]),V(S,"click",l[10]),V(U,"click",l[11]),V(L,"click",l[12])]},p(l,a){let n=m;(m=W(l))===n?Q[m].p(l,a):(P(),E(Q[n],1,1,()=>{Q[n]=null}),T(),(v=Q[m])||(v=Q[m]=F[m](l)).c(),k(v,1),v.m(t,null)),32&a&&A(s,"is-active",l[5])},i(l){H||(k(v),k(X.$$.fragment,l),k(Y.$$.fragment,l),k(Z.$$.fragment,l),H=!0)},o(l){E(v),E(X.$$.fragment,l),E(Y.$$.fragment,l),E(Z.$$.fragment,l),H=!1},d(l){l&&u(a),Q[m].d(),x(X),x(Y),x(Z),D(z)}}}function yl(l){let a,s,t;const r=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){a=c("a"),b(r.$$.fragment),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var s=o(a);y(r.$$.fragment,s),s.forEach(u),this.h()},h(){h(a,"href",s=null),h(a,"class","button")},m(l,s){f(l,a,s),I(r,a,null),t=!0},p:j,i(l){t||(k(r.$$.fragment,l),t=!0)},o(l){E(r.$$.fragment,l),t=!1},d(l){l&&u(a),x(r)}}}function Al(l){let a,s,t;const r=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){a=c("a"),b(r.$$.fragment),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var s=o(a);y(r.$$.fragment,s),s.forEach(u),this.h()},h(){h(a,"href",s=null),h(a,"class","button")},m(l,s){f(l,a,s),I(r,a,null),t=!0},p:j,i(l){t||(k(r.$$.fragment,l),t=!0)},o(l){E(r.$$.fragment,l),t=!1},d(l){l&&u(a),x(r)}}}function Il(l){let a,s,n,t={ctx:l,current:null,token:null,pending:Ul,then:Vl,catch:Dl,value:22,error:23,blocks:[,,,]};return g(s=l[3],t),{c(){a=w(),t.block.c()},l(l){a=w(),t.block.l(l)},m(l,s){f(l,a,s),t.block.m(l,t.anchor=s),t.mount=(()=>a.parentNode),t.anchor=a,n=!0},p(a,n){if(l=a,t.ctx=l,8&n&&s!==(s=l[3])&&g(s,t));else{const a=l.slice();a[22]=t.resolved,t.block.p(a,n)}},i(l){n||(k(t.block),n=!0)},o(l){for(let l=0;l<3;l+=1){const a=t.blocks[l];E(a)}n=!1},d(l){l&&u(a),t.block.d(l),t.token=null,t=null}}}function Dl(l){let a,s,n=l[23].message+"";return{c(){a=c("p"),s=r(n),this.h()},l(l){a=e(l,"P",{style:!0});var t=o(a);s=i(t,n),t.forEach(u),this.h()},h(){X(a,"color","red")},m(l,n){f(l,a,n),d(a,s)},p(l,a){8&a&&n!==(n=l[23].message+"")&&m(s,n)},i:j,o:j,d(l){l&&u(a)}}}function Vl(l){let a,s,n,t;const c=[Tl,Pl],r=[];function e(l,a){return l[7].length>0?0:1}return a=e(l),s=r[a]=c[a](l),{c(){s.c(),n=w()},l(l){s.l(l),n=w()},m(l,s){r[a].m(l,s),f(l,n,s),t=!0},p(l,t){let o=a;(a=e(l))===o?r[a].p(l,t):(P(),E(r[o],1,1,()=>{r[o]=null}),T(),(s=r[a])||(s=r[a]=c[a](l)).c(),k(s,1),s.m(n.parentNode,n))},i(l){t||(k(s),t=!0)},o(l){E(s),t=!1},d(l){r[a].d(l),l&&u(n)}}}function Pl(l){let a,s,n;return{c(){a=c("a"),s=r("no tracks found"),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var n=o(a);s=i(n,"no tracks found"),n.forEach(u),this.h()},h(){h(a,"class","list-item"),h(a,"href",n=null)},m(l,n){f(l,a,n),d(a,s)},p:j,i:j,o:j,d(l){l&&u(a)}}}function Tl(l){let a,s,n=l[7],t=[];for(let a=0;a<n.length;a+=1)t[a]=Bl(gl(l,n,a));const r=l=>E(t[l],1,1,()=>{t[l]=null});let i=null;return n.length||(i=xl()),{c(){a=c("div");for(let l=0;l<t.length;l+=1)t[l].c();i&&i.c(),this.h()},l(l){a=e(l,"DIV",{class:!0});var s=o(a);for(let l=0;l<t.length;l+=1)t[l].l(s);i&&i.l(s),s.forEach(u),this.h()},h(){h(a,"class","list is-hoverable")},m(l,n){f(l,a,n);for(let l=0;l<t.length;l+=1)t[l].m(a,null);i&&i.m(a,null),s=!0},p(l,s){if(640&s){let c;for(n=l[7],c=0;c<n.length;c+=1){const r=gl(l,n,c);t[c]?(t[c].p(r,s),k(t[c],1)):(t[c]=Bl(r),t[c].c(),k(t[c],1),t[c].m(a,null))}for(P(),c=n.length;c<t.length;c+=1)r(c);T(),n.length?i&&(i.d(1),i=null):i||((i=xl()).c(),i.m(a,null))}},i(l){if(!s){for(let l=0;l<n.length;l+=1)k(t[l]);s=!0}},o(l){t=t.filter(Boolean);for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(l){l&&u(a),N(t,l),i&&i.d()}}}function xl(l){let a,s,n;return{c(){a=c("a"),s=r("loading.."),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var n=o(a);s=i(n,"loading.."),n.forEach(u),this.h()},h(){h(a,"class","list-item"),h(a,"href",n=null)},m(l,n){f(l,a,n),d(a,s)},d(l){l&&u(a)}}}function Nl(l){let a;return{c(){a=r("unknown artist")},l(l){a=i(l,"unknown artist")},m(l,s){f(l,a,s)},p:j,d(l){l&&u(a)}}}function Sl(l){let a,s,n,t=l[24].artists.map(Ml).join(", ")+"",c=l[24].name+"";return{c(){a=r(t),s=r(" - "),n=r(c)},l(l){a=i(l,t),s=i(l," - "),n=i(l,c)},m(l,t){f(l,a,t),f(l,s,t),f(l,n,t)},p(l,s){128&s&&t!==(t=l[24].artists.map(Ml).join(", ")+"")&&m(a,t),128&s&&c!==(c=l[24].name+"")&&m(n,c)},d(l){l&&u(a),l&&u(s),l&&u(n)}}}function _l(l){let a;const s=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(l){y(s.$$.fragment,l)},m(l,n){I(s,l,n),a=!0},p:j,i(l){a||(k(s.$$.fragment,l),a=!0)},o(l){E(s.$$.fragment,l),a=!1},d(l){x(s,l)}}}function Ol(l){let a;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(l){y(s.$$.fragment,l)},m(l,n){I(s,l,n),a=!0},p:j,i(l){a||(k(s.$$.fragment,l),a=!0)},o(l){E(s.$$.fragment,l),a=!1},d(l){x(s,l)}}}function Bl(l){let a,s,t,m,v,g,w,N,S,_,O,B,U,q,M,j,L,H,z,F,J,Q,W,X,Y,nl,tl,cl,rl,el,ol;function il(l,a){return l[24].artists?Sl:Nl}let ul=il(l),hl=ul(l);function fl(...a){return l[20](l[24],...a)}const dl=[Ol,_l],ml=[];function pl(l,a){return l[24].visibility?0:1}function $l(...a){return l[21](l[24],...a)}N=pl(l),S=ml[N]=dl[N](l);const vl=new n({props:{icon:G,class:"icon is-small"}}),gl=new n({props:{icon:sl,class:"icon is-small"}}),kl=new n({props:{icon:K,class:"icon is-small"}}),El=new n({props:{icon:R,class:"icon is-small"}});return{c(){a=c("a"),s=c("div"),t=c("div"),hl.c(),m=p(),v=c("div"),g=c("div"),w=c("div"),S.c(),_=p(),O=c("div"),B=c("div"),U=c("a"),b(vl.$$.fragment),q=r(" \n                        Play now"),j=p(),L=c("a"),b(gl.$$.fragment),H=r(" \n                        Play next"),F=p(),J=c("a"),b(kl.$$.fragment),Q=r(" \n                        Add to queue"),X=p(),Y=c("a"),b(El.$$.fragment),nl=r(" \n                          Add to a playlist"),cl=p(),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var n=o(a);s=e(n,"DIV",{class:!0});var c=o(s);t=e(c,"DIV",{class:!0});var r=o(t);hl.l(r),r.forEach(u),m=$(c),v=e(c,"DIV",{class:!0});var h=o(v);g=e(h,"DIV",{class:!0});var f=o(g);w=e(f,"DIV",{class:!0});var d=o(w);S.l(d),d.forEach(u),_=$(f),O=e(f,"DIV",{class:!0,id:!0,role:!0});var p=o(O);B=e(p,"DIV",{class:!0});var k=o(B);U=e(k,"A",{href:!0,class:!0});var E=o(U);y(vl.$$.fragment,E),q=i(E," \n                        Play now"),E.forEach(u),j=$(k),L=e(k,"A",{href:!0,class:!0});var b=o(L);y(gl.$$.fragment,b),H=i(b," \n                        Play next"),b.forEach(u),F=$(k),J=e(k,"A",{href:!0,class:!0});var A=o(J);y(kl.$$.fragment,A),Q=i(A," \n                        Add to queue"),A.forEach(u),X=$(k),Y=e(k,"A",{href:!0,class:!0});var I=o(Y);y(El.$$.fragment,I),nl=i(I," \n                          Add to a playlist"),I.forEach(u),k.forEach(u),p.forEach(u),f.forEach(u),h.forEach(u),c.forEach(u),cl=$(n),n.forEach(u),this.h()},h(){h(t,"class","column"),h(w,"class","dropdown-trigger"),h(U,"href",M=null),h(U,"class","dropdown-item"),h(L,"href",z=null),h(L,"class","dropdown-item"),h(J,"href",W=null),h(J,"class","dropdown-item"),h(Y,"href",tl=null),h(Y,"class","dropdown-item"),h(B,"class","dropdown-content"),h(O,"class","dropdown-menu"),h(O,"id","dropdown-menu"),h(O,"role","menu"),h(g,"class","dropdown is-right is-up"),A(g,"is-active",l[24].visibility),h(v,"class","column is-narrow"),h(s,"class","columns is-mobile"),h(a,"class","list-item"),h(a,"href",rl=null)},m(n,c,r){f(n,a,c),d(a,s),d(s,t),hl.m(t,null),d(s,m),d(s,v),d(v,g),d(g,w),ml[N].m(w,null),d(g,_),d(g,O),d(O,B),d(B,U),I(vl,U,null),d(U,q),d(B,j),d(B,L),I(gl,L,null),d(L,H),d(B,F),d(B,J),I(kl,J,null),d(J,Q),d(B,X),d(B,Y),I(El,Y,null),d(Y,nl),d(a,cl),el=!0,r&&D(ol),ol=[V(t,"click",fl),V(w,"click",$l),V(U,"click",function(){C(Z(l[24].uri))&&Z(l[24].uri).apply(this,arguments)}),V(L,"click",function(){C(ll(l[24].uri))&&ll(l[24].uri).apply(this,arguments)}),V(J,"click",function(){C(al(l[24].uri))&&al(l[24].uri).apply(this,arguments)}),V(Y,"click",function(){C(l[9](l[24]))&&l[9](l[24]).apply(this,arguments)})]},p(a,s){ul===(ul=il(l=a))&&hl?hl.p(l,s):(hl.d(1),(hl=ul(l))&&(hl.c(),hl.m(t,null)));let n=N;(N=pl(l))===n?ml[N].p(l,s):(P(),E(ml[n],1,1,()=>{ml[n]=null}),T(),(S=ml[N])||(S=ml[N]=dl[N](l)).c(),k(S,1),S.m(w,null)),128&s&&A(g,"is-active",l[24].visibility)},i(l){el||(k(S),k(vl.$$.fragment,l),k(gl.$$.fragment,l),k(kl.$$.fragment,l),k(El.$$.fragment,l),el=!0)},o(l){E(S),E(vl.$$.fragment,l),E(gl.$$.fragment,l),E(kl.$$.fragment,l),E(El.$$.fragment,l),el=!1},d(l){l&&u(a),hl.d(),ml[N].d(),x(vl),x(gl),x(kl),x(El),D(ol)}}}function Ul(l){let a,s;return{c(){a=c("p"),s=r("...waiting")},l(l){a=e(l,"P",{});var n=o(a);s=i(n,"...waiting"),n.forEach(u)},m(l,n){f(l,a,n),d(a,s)},p:j,i:j,o:j,d(l){l&&u(a)}}}function ql(l){let a,s,t,m,v,g,S,_,O,B,U,q,M,j,L,R,C,H,G,J,K,Q,W,X,Y,Z,ll,al,sl,nl,tl,cl=l[2],rl=[];for(let a=0;a<cl.length;a+=1)rl[a]=wl(kl(l,cl,a));let el=null;cl.length||(el=El());const ol=new n({props:{icon:z,class:"icon"}});let il=l[7].length>0&&bl(l);const ul=new vl({props:{showAddToPlaylistModal:l[4],track:l[6]}});let hl=l[3]&&Il(l);return{c(){a=p(),s=c("h1"),t=r("Search"),m=p(),v=c("div"),g=c("div"),S=c("input"),_=p(),O=c("div"),B=c("div"),U=c("div"),q=c("div"),M=c("div"),j=c("button"),L=c("span"),R=r("Sources"),C=p(),H=c("span"),G=c("i"),J=p(),K=c("div"),Q=c("div");for(let l=0;l<rl.length;l+=1)rl[l].c();el&&el.c(),W=p(),X=c("div"),Y=c("button"),b(ol.$$.fragment),Z=p(),il&&il.c(),ll=p(),b(ul.$$.fragment),al=p(),hl&&hl.c(),sl=w(),this.h()},l(l){F('[data-svelte="svelte-3s7lyl"]',document.head).forEach(u),a=$(l),s=e(l,"H1",{class:!0});var n=o(s);t=i(n,"Search"),n.forEach(u),m=$(l),v=e(l,"DIV",{class:!0});var c=o(v);g=e(c,"DIV",{class:!0});var r=o(g);S=e(r,"INPUT",{class:!0,type:!0,placeholder:!0}),r.forEach(u),_=$(c),O=e(c,"DIV",{class:!0});var h=o(O);B=e(h,"DIV",{class:!0});var f=o(B);U=e(f,"DIV",{class:!0});var d=o(U);q=e(d,"DIV",{class:!0});var p=o(q);M=e(p,"DIV",{class:!0});var k=o(M);j=e(k,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var E=o(j);L=e(E,"SPAN",{});var b=o(L);R=i(b,"Sources"),b.forEach(u),C=$(E),H=e(E,"SPAN",{class:!0});var A=o(H);G=e(A,"I",{class:!0,"aria-hidden":!0}),o(G).forEach(u),A.forEach(u),E.forEach(u),k.forEach(u),J=$(p),K=e(p,"DIV",{class:!0,id:!0,role:!0});var I=o(K);Q=e(I,"DIV",{class:!0});var D=o(Q);for(let l=0;l<rl.length;l+=1)rl[l].l(D);el&&el.l(D),D.forEach(u),I.forEach(u),p.forEach(u),d.forEach(u),W=$(f),X=e(f,"DIV",{class:!0});var V=o(X);Y=e(V,"BUTTON",{class:!0});var P=o(Y);y(ol.$$.fragment,P),P.forEach(u),V.forEach(u),Z=$(f),il&&il.l(f),f.forEach(u),h.forEach(u),c.forEach(u),ll=$(l),y(ul.$$.fragment,l),al=$(l),hl&&hl.l(l),sl=w(),this.h()},h(){document.title="Search",h(s,"class","title"),h(S,"class","input is-rounded"),h(S,"type","text"),h(S,"placeholder","Rounded input"),h(g,"class","column"),h(G,"class","fas fa-angle-down"),h(G,"aria-hidden","true"),h(H,"class","icon is-small"),h(j,"class","button"),h(j,"aria-haspopup","true"),h(j,"aria-controls","dropdown-menu-sources"),h(M,"class","dropdown-trigger"),h(Q,"class","dropdown-content"),h(K,"class","dropdown-menu"),h(K,"id","dropdown-menu-sources"),h(K,"role","menu"),h(q,"class","dropdown"),A(q,"is-active",l[0]),h(U,"class","column"),h(Y,"class","button"),h(X,"class","column"),h(B,"class","columns is-mobile"),h(O,"class","column is-narrow"),h(v,"class","columns")},m(n,c,r){f(n,a,c),f(n,s,c),d(s,t),f(n,m,c),f(n,v,c),d(v,g),d(g,S),d(v,_),d(v,O),d(O,B),d(B,U),d(U,q),d(q,M),d(M,j),d(j,L),d(L,R),d(j,C),d(j,H),d(H,G),d(q,J),d(q,K),d(K,Q);for(let l=0;l<rl.length;l+=1)rl[l].m(Q,null);el&&el.m(Q,null),d(B,W),d(B,X),d(X,Y),I(ol,Y,null),d(B,Z),il&&il.m(B,null),f(n,ll,c),I(ul,n,c),f(n,al,c),hl&&hl.m(n,c),f(n,sl,c),nl=!0,r&&D(tl),tl=[V(S,"keydown",l[8]),V(M,"click",l[16]),V(Y,"click",l[8])]},p(l,[a]){if(6&a){let s;for(cl=l[2],s=0;s<cl.length;s+=1){const n=kl(l,cl,s);rl[s]?rl[s].p(n,a):(rl[s]=wl(n),rl[s].c(),rl[s].m(Q,null))}for(;s<rl.length;s+=1)rl[s].d(1);rl.length=cl.length,cl.length?el&&(el.d(1),el=null):el||((el=El()).c(),el.m(Q,null))}1&a&&A(q,"is-active",l[0]),l[7].length>0?il?(il.p(l,a),k(il,1)):((il=bl(l)).c(),k(il,1),il.m(B,null)):il&&(P(),E(il,1,1,()=>{il=null}),T());const s={};16&a&&(s.showAddToPlaylistModal=l[4]),64&a&&(s.track=l[6]),ul.$set(s),l[3]?hl?(hl.p(l,a),k(hl,1)):((hl=Il(l)).c(),k(hl,1),hl.m(sl.parentNode,sl)):hl&&(P(),E(hl,1,1,()=>{hl=null}),T())},i(l){nl||(k(ol.$$.fragment,l),k(il),k(ul.$$.fragment,l),k(hl),nl=!0)},o(l){E(ol.$$.fragment,l),E(il),E(ul.$$.fragment,l),E(hl),nl=!1},d(l){l&&u(a),l&&u(s),l&&u(m),l&&u(v),N(rl,l),el&&el.d(),x(ol),il&&il.d(),l&&u(ll),x(ul,l),l&&u(al),hl&&hl.d(l),l&&u(sl),D(tl)}}}const Ml=l=>l.name;function jl(l,a,s){let n;S(l,_,l=>s(13,n=l));let t,c,r=!1,e=["local"],o=["http","https","mms","rtmp","rtmps","rtsp","file"],i=[],u=!1,h=!1,f=[];async function d(l){const a=e.map(l=>l+":"),t=await n.library.search({query:{any:[l]},uris:[`${a}`]});if(t&&t.length>0){let{tracks:l}=t.pop();return s(7,f=l),!0}}B(async()=>{U(_,n=await q());const l=await n.getUriSchemes();l&&s(2,i=l.filter(l=>-1===o.indexOf(l)))});const m=[[]];return[r,e,i,t,u,h,c,f,function(l){13===l.which&&setTimeout(()=>{s(3,t=d(l.target.value))},100)},l=>{delete l.visibility,s(6,c=l),s(4,u=!u)},()=>{f.forEach(l=>delete l.visibility),n.tracklist.clear(),n.tracklist.add([f]),n.playback.play(),s(5,h=!h)},()=>{f.forEach(l=>delete l.visibility),n.tracklist.clear(),n.tracklist.add([f]),n.tracklist.shuffle(),n.playback.play(),s(5,h=!h)},()=>{f.forEach(l=>delete l.visibility),n.tracklist.add([f]),s(5,h=!h)},n,o,d,()=>s(0,r=!r),function(){e=Y(m[0]),s(1,e)},m,()=>s(5,h=!h),l=>s(7,l.visibility=!l.visibility,f),l=>s(7,l.visibility=!l.visibility,f)]}export default class extends l{constructor(l){super(),a(this,l,jl,ql,s,{})}}
