import{S as l,a,s,L as n,a3 as c,e as t,t as r,c as e,d as o,h as i,g as h,j as u,k as f,l as d,n as m,b as p,f as $,ab as v,a4 as g,z as k,B as E,m as w,u as b,v as y,w as A,x as I,r as D,q as V,P,D as T,C as x,ac as N,I as S,U as _,ag as O,J as B,R as U,T as q,af as M,A as j,a5 as L,a7 as R,i as C,a6 as H,ar as z,G as F,N as G,ad as J,aj as K,_ as Q,$ as W,as as X,at as Y,am as Z,an as ll,ao as al,ap as sl}from"./client.74245462.js";function nl(l,a,s){const n=l.slice();return n[11]=a[s],n[13]=s,n}function cl(l){let a,s,n,c,p=l[1].name+"";return{c(){a=t("label"),s=r("Add "),n=r(p),c=r(" to a playlist"),this.h()},l(l){a=e(l,"LABEL",{class:!0});var t=o(a);s=i(t,"Add "),n=i(t,p),c=i(t," to a playlist"),t.forEach(h),this.h()},h(){u(a,"class","label")},m(l,t){f(l,a,t),d(a,s),d(a,n),d(a,c)},p(l,a){2&a&&p!==(p=l[1].name+"")&&m(n,p)},d(l){l&&h(a)}}}function tl(l){let a,s=l[15].message+"";return{c(){a=r(s)},l(l){a=i(l,s)},m(l,s){f(l,a,s)},p(l,n){8&n&&s!==(s=l[15].message+"")&&m(a,s)},i:j,o:j,d(l){l&&h(a)}}}function rl(l){let a,s,c,v,g,w,A,D,P,T,N=(l[14].tracks?l[14].tracks.length:"0")+"";const S=new n({props:{icon:R,class:"icon"}});return{c(){a=t("div"),s=r("("),c=r(N),v=r(")"),g=p(),w=t("div"),A=t("a"),b(S.$$.fragment),this.h()},l(l){a=e(l,"DIV",{class:!0});var n=o(a);s=i(n,"("),c=i(n,N),v=i(n,")"),n.forEach(h),g=$(l),w=e(l,"DIV",{class:!0});var t=o(w);A=e(t,"A",{href:!0});var r=o(A);y(S.$$.fragment,r),r.forEach(h),t.forEach(h),this.h()},h(){u(a,"class","column is-narrow"),u(A,"href",D=null),u(w,"class","column is-narrow")},m(n,t,r){f(n,a,t),d(a,s),d(a,c),d(a,v),f(n,g,t),f(n,w,t),d(w,A),I(S,A,null),P=!0,r&&T(),T=V(A,"click",function(){C(l[4](l[14]))&&l[4](l[14]).apply(this,arguments)})},p(a,s){l=a,(!P||8&s)&&N!==(N=(l[14].tracks?l[14].tracks.length:"0")+"")&&m(c,N)},i(l){P||(k(S.$$.fragment,l),P=!0)},o(l){E(S.$$.fragment,l),P=!1},d(l){l&&h(a),l&&h(g),l&&h(w),x(S),T()}}}function el(l){let a;return{c(){a=r("loading..")},l(l){a=i(l,"loading..")},m(l,s){f(l,a,s)},p:j,i:j,o:j,d(l){l&&h(a)}}}function ol(l){let a,s,n,c,w,b,y,A,I=l[11].name+"",D={ctx:l,current:null,token:null,pending:el,then:rl,catch:tl,value:14,error:15,blocks:[,,,]};return g(b=v(l[11].uri),D),{c(){a=t("div"),s=t("div"),n=t("div"),c=r(I),w=p(),D.block.c(),y=p(),this.h()},l(l){a=e(l,"DIV",{class:!0});var t=o(a);s=e(t,"DIV",{class:!0});var r=o(s);n=e(r,"DIV",{class:!0});var u=o(n);c=i(u,I),u.forEach(h),w=$(r),D.block.l(r),r.forEach(h),y=$(t),t.forEach(h),this.h()},h(){u(n,"class","column"),u(s,"class","columns is-mobile"),u(a,"class","list-item")},m(l,t){f(l,a,t),d(a,s),d(s,n),d(n,c),d(s,w),D.block.m(s,D.anchor=null),D.mount=(()=>s),D.anchor=null,d(a,y),A=!0},p(a,s){if(l=a,(!A||8&s)&&I!==(I=l[11].name+"")&&m(c,I),D.ctx=l,8&s&&b!==(b=v(l[11].uri))&&g(b,D));else{const a=l.slice();a[14]=D.resolved,D.block.p(a,s)}},i(l){A||(k(D.block),A=!0)},o(l){for(let l=0;l<3;l+=1){const a=D.blocks[l];E(a)}A=!1},d(l){l&&h(a),D.block.d(),D.token=null,D=null}}}function il(l){let a,s,n,c={ctx:l,current:null,token:null,pending:ml,then:ul,catch:hl,value:10,blocks:[,,,]};return g(s=l[2],c),{c(){a=w(),c.block.c()},l(l){a=w(),c.block.l(l)},m(l,s){f(l,a,s),c.block.m(l,c.anchor=s),c.mount=(()=>a.parentNode),c.anchor=a,n=!0},p(a,n){if(l=a,c.ctx=l,4&n&&s!==(s=l[2])&&g(s,c));else{const a=l.slice();a[10]=c.resolved,c.block.p(a,n)}},i(l){n||(k(c.block),n=!0)},o(l){for(let l=0;l<3;l+=1){const a=c.blocks[l];E(a)}n=!1},d(l){l&&h(a),c.block.d(l),c.token=null,c=null}}}function hl(l){return{c:j,l:j,m:j,p:j,i:j,o:j,d:j}}function ul(l){let a,s,n,c;const t=[dl,fl],r=[];function e(l,a){return l[10]?0:1}return a=e(l),s=r[a]=t[a](l),{c(){s.c(),n=w()},l(l){s.l(l),n=w()},m(l,s){r[a].m(l,s),f(l,n,s),c=!0},p(l,c){let o=a;(a=e(l))===o?r[a].p(l,c):(P(),E(r[o],1,1,()=>{r[o]=null}),T(),(s=r[a])||(s=r[a]=t[a](l)).c(),k(s,1),s.m(n.parentNode,n))},i(l){c||(k(s),c=!0)},o(l){E(s),c=!1},d(l){r[a].d(l),l&&h(n)}}}function fl(l){let a;return{c(){a=r("Error")},l(l){a=i(l,"Error")},m(l,s){f(l,a,s)},p:j,i:j,o:j,d(l){l&&h(a)}}}function dl(l){let a,s,c;const r=new n({props:{icon:H,class:"icon"}});return{c(){a=t("a"),b(r.$$.fragment),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var s=o(a);y(r.$$.fragment,s),s.forEach(h),this.h()},h(){u(a,"class","button"),u(a,"href",s=null)},m(l,s){f(l,a,s),I(r,a,null),c=!0},p:j,i(l){c||(k(r.$$.fragment,l),c=!0)},o(l){E(r.$$.fragment,l),c=!1},d(l){l&&h(a),x(r)}}}function ml(l){let a,s,c,m,v,g;const w=new n({props:{icon:L,spin:!0,class:"icon"}});return{c(){a=t("a"),b(w.$$.fragment),c=p(),m=t("button"),v=r("Save changes"),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var s=o(a);y(w.$$.fragment,s),s.forEach(h),c=$(l),m=e(l,"BUTTON",{class:!0});var n=o(m);v=i(n,"Save changes"),n.forEach(h),this.h()},h(){u(a,"class","button"),u(a,"href",s=null),u(m,"class","button is-success")},m(l,s){f(l,a,s),I(w,a,null),f(l,c,s),f(l,m,s),d(m,v),g=!0},p:j,i(l){g||(k(w.$$.fragment,l),g=!0)},o(l){E(w.$$.fragment,l),g=!1},d(l){l&&h(a),x(w),l&&h(c),l&&h(m)}}}function pl(l){let a,s,m,v,g,w,S,_,O,B,U,q,M,j,L,R,C,H,z,F,G;const J=new n({props:{icon:c,class:"icon"}});let K=l[1]&&cl(l),Q=l[3],W=[];for(let a=0;a<Q.length;a+=1)W[a]=ol(nl(l,Q,a));const X=l=>E(W[l],1,1,()=>{W[l]=null});let Y=l[2]&&il(l);return{c(){a=t("div"),s=t("div"),m=p(),v=t("div"),g=t("header"),w=t("p"),S=r("Add to playlist"),_=p(),O=t("a"),b(J.$$.fragment),U=p(),q=t("section"),K&&K.c(),M=p(),j=t("div");for(let l=0;l<W.length;l+=1)W[l].c();L=r("\n       "),R=p(),C=t("footer"),Y&&Y.c(),H=p(),z=t("button"),this.h()},l(l){a=e(l,"DIV",{class:!0});var n=o(a);s=e(n,"DIV",{class:!0}),o(s).forEach(h),m=$(n),v=e(n,"DIV",{class:!0});var c=o(v);g=e(c,"HEADER",{class:!0});var t=o(g);w=e(t,"P",{class:!0});var r=o(w);S=i(r,"Add to playlist"),r.forEach(h),_=$(t),O=e(t,"A",{href:!0,"aria-label":!0});var u=o(O);y(J.$$.fragment,u),u.forEach(h),t.forEach(h),U=$(c),q=e(c,"SECTION",{class:!0});var f=o(q);K&&K.l(f),M=$(f),j=e(f,"DIV",{class:!0});var d=o(j);for(let l=0;l<W.length;l+=1)W[l].l(d);d.forEach(h),L=i(f,"\n       "),f.forEach(h),R=$(c),C=e(c,"FOOTER",{class:!0});var p=o(C);Y&&Y.l(p),p.forEach(h),c.forEach(h),H=$(n),z=e(n,"BUTTON",{class:!0,"aria-label":!0}),o(z).forEach(h),n.forEach(h),this.h()},h(){u(s,"class","modal-background"),u(w,"class","modal-card-title"),u(O,"href",B=null),u(O,"aria-label","close"),u(g,"class","modal-card-head"),u(j,"class","list is-hoverable"),u(q,"class","modal-card-body"),u(C,"class","modal-card-foot"),u(v,"class","modal-card"),u(z,"class","modal-close is-large"),u(z,"aria-label","close"),u(a,"class","modal"),A(a,"is-active",l[0])},m(n,c,t){f(n,a,c),d(a,s),d(a,m),d(a,v),d(v,g),d(g,w),d(w,S),d(g,_),d(g,O),I(J,O,null),d(v,U),d(v,q),K&&K.m(q,null),d(q,M),d(q,j);for(let l=0;l<W.length;l+=1)W[l].m(j,null);d(q,L),d(v,R),d(v,C),Y&&Y.m(C,null),d(a,H),d(a,z),F=!0,t&&D(G),G=[V(s,"click",l[7]),V(O,"click",l[8]),V(z,"click",l[9])]},p(l,[s]){if(l[1]?K?K.p(l,s):((K=cl(l)).c(),K.m(q,M)):K&&(K.d(1),K=null),24&s){let a;for(Q=l[3],a=0;a<Q.length;a+=1){const n=nl(l,Q,a);W[a]?(W[a].p(n,s),k(W[a],1)):(W[a]=ol(n),W[a].c(),k(W[a],1),W[a].m(j,null))}for(P(),a=Q.length;a<W.length;a+=1)X(a);T()}l[2]?Y?(Y.p(l,s),k(Y,1)):((Y=il(l)).c(),k(Y,1),Y.m(C,null)):Y&&(P(),E(Y,1,1,()=>{Y=null}),T()),1&s&&A(a,"is-active",l[0])},i(l){if(!F){k(J.$$.fragment,l);for(let l=0;l<Q.length;l+=1)k(W[l]);k(Y),F=!0}},o(l){E(J.$$.fragment,l),W=W.filter(Boolean);for(let l=0;l<W.length;l+=1)E(W[l]);E(Y),F=!1},d(l){l&&h(a),x(J),K&&K.d(),N(W,l),Y&&Y.d(),D(G)}}}function $l(l,a,s){let n,c;S(l,_,l=>s(5,n=l)),S(l,O,l=>s(3,c=l));let t,{showAddToPlaylistModal:r}=a,{track:e}=a;B(async()=>{U(_,n=await q()),U(O,c=await M())});const o=async l=>{return l.tracks?l.tracks.push(e):l.tracks=[e],!!await n.playlists.save({playlist:l})&&(U(O,c=await M()),!0)};return l.$set=(l=>{"showAddToPlaylistModal"in l&&s(0,r=l.showAddToPlaylistModal),"track"in l&&s(1,e=l.track)}),[r,e,t,c,l=>{s(2,t=o(l))},n,o,()=>s(0,r=!r),()=>s(0,r=!r),()=>s(0,r=!r)]}class vl extends l{constructor(l){super(),a(this,l,$l,pl,s,{showAddToPlaylistModal:0,track:1})}}function gl(l,a,s){const n=l.slice();return n[24]=a[s],n[26]=s,n}function kl(l,a,s){const n=l.slice();return n[27]=a[s],n}function El(l){let a,s,n;return{c(){a=t("a"),s=r("loading\n              "),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var n=o(a);s=i(n,"loading\n              "),n.forEach(h),this.h()},h(){u(a,"href",n=null),u(a,"class","dropdown-item")},m(l,n){f(l,a,n),d(a,s)},d(l){l&&h(a)}}}function wl(l){let a,s,n,c,v,g,k,E,w,b=l[27]+"";return{c(){a=t("a"),s=t("label"),n=t("input"),v=p(),g=r(b),k=p(),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var c=o(a);s=e(c,"LABEL",{class:!0});var t=o(s);n=e(t,"INPUT",{value:!0,type:!0}),v=$(t),g=i(t,b),t.forEach(h),k=$(c),c.forEach(h),this.h()},h(){n.__value=c=l[27],n.value=n.__value,u(n,"type","checkbox"),l[18][0].push(n),u(s,"class","checkbox"),u(a,"href",E=null),u(a,"class","dropdown-item")},m(c,t,r){f(c,a,t),d(a,s),d(s,n),n.checked=~l[1].indexOf(n.__value),d(s,v),d(s,g),d(a,k),r&&w(),w=V(n,"change",l[17])},p(l,a){4&a&&c!==(c=l[27])&&(n.__value=c),n.value=n.__value,2&a&&(n.checked=~l[1].indexOf(n.__value)),4&a&&b!==(b=l[27]+"")&&m(g,b)},d(s){s&&h(a),l[18][0].splice(l[18][0].indexOf(n),1),w()}}}function bl(l){let a,s,c,m,v,g,w,N,S,_,O,B,U,q,M,j,L,R,C,H,z;const F=[Al,yl],Q=[];function W(l,a){return l[5]?0:1}m=W(l),v=Q[m]=F[m](l);const X=new n({props:{icon:G,class:"icon is-small"}}),Y=new n({props:{icon:J,class:"icon is-small"}}),Z=new n({props:{icon:K,class:"icon is-small"}});return{c(){a=t("div"),s=t("div"),c=t("div"),v.c(),g=p(),w=t("div"),N=t("div"),S=t("a"),b(X.$$.fragment),_=r(" \n                  Play All"),B=p(),U=t("a"),b(Y.$$.fragment),q=r(" \n                  Shuffle & Play All"),j=p(),L=t("a"),b(Z.$$.fragment),R=r(" \n                  Add to queue"),this.h()},l(l){a=e(l,"DIV",{class:!0});var n=o(a);s=e(n,"DIV",{class:!0});var t=o(s);c=e(t,"DIV",{class:!0});var r=o(c);v.l(r),r.forEach(h),g=$(t),w=e(t,"DIV",{class:!0,id:!0,role:!0});var u=o(w);N=e(u,"DIV",{class:!0});var f=o(N);S=e(f,"A",{href:!0,class:!0});var d=o(S);y(X.$$.fragment,d),_=i(d," \n                  Play All"),d.forEach(h),B=$(f),U=e(f,"A",{href:!0,class:!0});var m=o(U);y(Y.$$.fragment,m),q=i(m," \n                  Shuffle & Play All"),m.forEach(h),j=$(f),L=e(f,"A",{href:!0,class:!0});var p=o(L);y(Z.$$.fragment,p),R=i(p," \n                  Add to queue"),p.forEach(h),f.forEach(h),u.forEach(h),t.forEach(h),n.forEach(h),this.h()},h(){u(c,"class","dropdown-trigger"),u(S,"href",O=null),u(S,"class","dropdown-item"),u(U,"href",M=null),u(U,"class","dropdown-item"),u(L,"href",C=null),u(L,"class","dropdown-item"),u(N,"class","dropdown-content"),u(w,"class","dropdown-menu"),u(w,"id","dropdown-menu"),u(w,"role","menu"),u(s,"class","dropdown is-right"),A(s,"is-active",l[5]),u(a,"class","column")},m(n,t,r){f(n,a,t),d(a,s),d(s,c),Q[m].m(c,null),d(s,g),d(s,w),d(w,N),d(N,S),I(X,S,null),d(S,_),d(N,B),d(N,U),I(Y,U,null),d(U,q),d(N,j),d(N,L),I(Z,L,null),d(L,R),H=!0,r&&D(z),z=[V(c,"click",l[19]),V(S,"click",l[10]),V(U,"click",l[11]),V(L,"click",l[12])]},p(l,a){let n=m;(m=W(l))===n?Q[m].p(l,a):(P(),E(Q[n],1,1,()=>{Q[n]=null}),T(),(v=Q[m])||(v=Q[m]=F[m](l)).c(),k(v,1),v.m(c,null)),32&a&&A(s,"is-active",l[5])},i(l){H||(k(v),k(X.$$.fragment,l),k(Y.$$.fragment,l),k(Z.$$.fragment,l),H=!0)},o(l){E(v),E(X.$$.fragment,l),E(Y.$$.fragment,l),E(Z.$$.fragment,l),H=!1},d(l){l&&h(a),Q[m].d(),x(X),x(Y),x(Z),D(z)}}}function yl(l){let a,s,c;const r=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){a=t("a"),b(r.$$.fragment),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var s=o(a);y(r.$$.fragment,s),s.forEach(h),this.h()},h(){u(a,"href",s=null),u(a,"class","button")},m(l,s){f(l,a,s),I(r,a,null),c=!0},p:j,i(l){c||(k(r.$$.fragment,l),c=!0)},o(l){E(r.$$.fragment,l),c=!1},d(l){l&&h(a),x(r)}}}function Al(l){let a,s,c;const r=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){a=t("a"),b(r.$$.fragment),this.h()},l(l){a=e(l,"A",{href:!0,class:!0});var s=o(a);y(r.$$.fragment,s),s.forEach(h),this.h()},h(){u(a,"href",s=null),u(a,"class","button")},m(l,s){f(l,a,s),I(r,a,null),c=!0},p:j,i(l){c||(k(r.$$.fragment,l),c=!0)},o(l){E(r.$$.fragment,l),c=!1},d(l){l&&h(a),x(r)}}}function Il(l){let a,s,n,c={ctx:l,current:null,token:null,pending:Ul,then:Vl,catch:Dl,value:22,error:23,blocks:[,,,]};return g(s=l[3],c),{c(){a=w(),c.block.c()},l(l){a=w(),c.block.l(l)},m(l,s){f(l,a,s),c.block.m(l,c.anchor=s),c.mount=(()=>a.parentNode),c.anchor=a,n=!0},p(a,n){if(l=a,c.ctx=l,8&n&&s!==(s=l[3])&&g(s,c));else{const a=l.slice();a[22]=c.resolved,c.block.p(a,n)}},i(l){n||(k(c.block),n=!0)},o(l){for(let l=0;l<3;l+=1){const a=c.blocks[l];E(a)}n=!1},d(l){l&&h(a),c.block.d(l),c.token=null,c=null}}}function Dl(l){let a,s,n=l[23].message+"";return{c(){a=t("p"),s=r(n),this.h()},l(l){a=e(l,"P",{style:!0});var c=o(a);s=i(c,n),c.forEach(h),this.h()},h(){X(a,"color","red")},m(l,n){f(l,a,n),d(a,s)},p(l,a){8&a&&n!==(n=l[23].message+"")&&m(s,n)},i:j,o:j,d(l){l&&h(a)}}}function Vl(l){let a,s,n,c;const t=[Tl,Pl],r=[];function e(l,a){return l[7].length>0?0:1}return a=e(l),s=r[a]=t[a](l),{c(){s.c(),n=w()},l(l){s.l(l),n=w()},m(l,s){r[a].m(l,s),f(l,n,s),c=!0},p(l,c){let o=a;(a=e(l))===o?r[a].p(l,c):(P(),E(r[o],1,1,()=>{r[o]=null}),T(),(s=r[a])||(s=r[a]=t[a](l)).c(),k(s,1),s.m(n.parentNode,n))},i(l){c||(k(s),c=!0)},o(l){E(s),c=!1},d(l){r[a].d(l),l&&h(n)}}}function Pl(l){let a,s,n;return{c(){a=t("a"),s=r("no tracks found"),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var n=o(a);s=i(n,"no tracks found"),n.forEach(h),this.h()},h(){u(a,"class","list-item"),u(a,"href",n=null)},m(l,n){f(l,a,n),d(a,s)},p:j,i:j,o:j,d(l){l&&h(a)}}}function Tl(l){let a,s,n=l[7],c=[];for(let a=0;a<n.length;a+=1)c[a]=Bl(gl(l,n,a));const r=l=>E(c[l],1,1,()=>{c[l]=null});let i=null;return n.length||(i=xl()),{c(){a=t("div");for(let l=0;l<c.length;l+=1)c[l].c();i&&i.c(),this.h()},l(l){a=e(l,"DIV",{class:!0});var s=o(a);for(let l=0;l<c.length;l+=1)c[l].l(s);i&&i.l(s),s.forEach(h),this.h()},h(){u(a,"class","list is-hoverable")},m(l,n){f(l,a,n);for(let l=0;l<c.length;l+=1)c[l].m(a,null);i&&i.m(a,null),s=!0},p(l,s){if(640&s){let t;for(n=l[7],t=0;t<n.length;t+=1){const r=gl(l,n,t);c[t]?(c[t].p(r,s),k(c[t],1)):(c[t]=Bl(r),c[t].c(),k(c[t],1),c[t].m(a,null))}for(P(),t=n.length;t<c.length;t+=1)r(t);T(),n.length?i&&(i.d(1),i=null):i||((i=xl()).c(),i.m(a,null))}},i(l){if(!s){for(let l=0;l<n.length;l+=1)k(c[l]);s=!0}},o(l){c=c.filter(Boolean);for(let l=0;l<c.length;l+=1)E(c[l]);s=!1},d(l){l&&h(a),N(c,l),i&&i.d()}}}function xl(l){let a,s,n;return{c(){a=t("a"),s=r("loading.."),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var n=o(a);s=i(n,"loading.."),n.forEach(h),this.h()},h(){u(a,"class","list-item"),u(a,"href",n=null)},m(l,n){f(l,a,n),d(a,s)},d(l){l&&h(a)}}}function Nl(l){let a;return{c(){a=r("unknown artist")},l(l){a=i(l,"unknown artist")},m(l,s){f(l,a,s)},p:j,d(l){l&&h(a)}}}function Sl(l){let a,s,n,c=l[24].artists.map(Ml).join(", ")+"",t=l[24].name+"";return{c(){a=r(c),s=r(" - "),n=r(t)},l(l){a=i(l,c),s=i(l," - "),n=i(l,t)},m(l,c){f(l,a,c),f(l,s,c),f(l,n,c)},p(l,s){128&s&&c!==(c=l[24].artists.map(Ml).join(", ")+"")&&m(a,c),128&s&&t!==(t=l[24].name+"")&&m(n,t)},d(l){l&&h(a),l&&h(s),l&&h(n)}}}function _l(l){let a;const s=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(l){y(s.$$.fragment,l)},m(l,n){I(s,l,n),a=!0},p:j,i(l){a||(k(s.$$.fragment,l),a=!0)},o(l){E(s.$$.fragment,l),a=!1},d(l){x(s,l)}}}function Ol(l){let a;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(l){y(s.$$.fragment,l)},m(l,n){I(s,l,n),a=!0},p:j,i(l){a||(k(s.$$.fragment,l),a=!0)},o(l){E(s.$$.fragment,l),a=!1},d(l){x(s,l)}}}function Bl(l){let a,s,c,m,v,g,w,N,S,_,O,B,U,q,M,j,L,H,z,F,J,Q,W,X,Y,nl,cl,tl,rl,el,ol;function il(l,a){return l[24].artists?Sl:Nl}let hl=il(l),ul=hl(l);function fl(...a){return l[20](l[24],...a)}const dl=[Ol,_l],ml=[];function pl(l,a){return l[24].visibility?0:1}function $l(...a){return l[21](l[24],...a)}N=pl(l),S=ml[N]=dl[N](l);const vl=new n({props:{icon:G,class:"icon is-small"}}),gl=new n({props:{icon:sl,class:"icon is-small"}}),kl=new n({props:{icon:K,class:"icon is-small"}}),El=new n({props:{icon:R,class:"icon is-small"}});return{c(){a=t("a"),s=t("div"),c=t("div"),ul.c(),m=p(),v=t("div"),g=t("div"),w=t("div"),S.c(),_=p(),O=t("div"),B=t("div"),U=t("a"),b(vl.$$.fragment),q=r(" \n                        Play now"),j=p(),L=t("a"),b(gl.$$.fragment),H=r(" \n                        Play next"),F=p(),J=t("a"),b(kl.$$.fragment),Q=r(" \n                        Add to queue"),X=p(),Y=t("a"),b(El.$$.fragment),nl=r(" \n                          Add to a playlist"),tl=p(),this.h()},l(l){a=e(l,"A",{class:!0,href:!0});var n=o(a);s=e(n,"DIV",{class:!0});var t=o(s);c=e(t,"DIV",{class:!0});var r=o(c);ul.l(r),r.forEach(h),m=$(t),v=e(t,"DIV",{class:!0});var u=o(v);g=e(u,"DIV",{class:!0});var f=o(g);w=e(f,"DIV",{class:!0});var d=o(w);S.l(d),d.forEach(h),_=$(f),O=e(f,"DIV",{class:!0,id:!0,role:!0});var p=o(O);B=e(p,"DIV",{class:!0});var k=o(B);U=e(k,"A",{href:!0,class:!0});var E=o(U);y(vl.$$.fragment,E),q=i(E," \n                        Play now"),E.forEach(h),j=$(k),L=e(k,"A",{href:!0,class:!0});var b=o(L);y(gl.$$.fragment,b),H=i(b," \n                        Play next"),b.forEach(h),F=$(k),J=e(k,"A",{href:!0,class:!0});var A=o(J);y(kl.$$.fragment,A),Q=i(A," \n                        Add to queue"),A.forEach(h),X=$(k),Y=e(k,"A",{href:!0,class:!0});var I=o(Y);y(El.$$.fragment,I),nl=i(I," \n                          Add to a playlist"),I.forEach(h),k.forEach(h),p.forEach(h),f.forEach(h),u.forEach(h),t.forEach(h),tl=$(n),n.forEach(h),this.h()},h(){u(c,"class","column"),u(w,"class","dropdown-trigger"),u(U,"href",M=null),u(U,"class","dropdown-item"),u(L,"href",z=null),u(L,"class","dropdown-item"),u(J,"href",W=null),u(J,"class","dropdown-item"),u(Y,"href",cl=null),u(Y,"class","dropdown-item"),u(B,"class","dropdown-content"),u(O,"class","dropdown-menu"),u(O,"id","dropdown-menu"),u(O,"role","menu"),u(g,"class","dropdown is-right is-up"),A(g,"is-active",l[24].visibility),u(v,"class","column is-narrow"),u(s,"class","columns is-mobile"),u(a,"class","list-item"),u(a,"href",rl=null)},m(n,t,r){f(n,a,t),d(a,s),d(s,c),ul.m(c,null),d(s,m),d(s,v),d(v,g),d(g,w),ml[N].m(w,null),d(g,_),d(g,O),d(O,B),d(B,U),I(vl,U,null),d(U,q),d(B,j),d(B,L),I(gl,L,null),d(L,H),d(B,F),d(B,J),I(kl,J,null),d(J,Q),d(B,X),d(B,Y),I(El,Y,null),d(Y,nl),d(a,tl),el=!0,r&&D(ol),ol=[V(c,"click",fl),V(w,"click",$l),V(U,"click",function(){C(Z(l[24].uri))&&Z(l[24].uri).apply(this,arguments)}),V(L,"click",function(){C(ll(l[24].uri))&&ll(l[24].uri).apply(this,arguments)}),V(J,"click",function(){C(al(l[24].uri))&&al(l[24].uri).apply(this,arguments)}),V(Y,"click",function(){C(l[9](l[24]))&&l[9](l[24]).apply(this,arguments)})]},p(a,s){hl===(hl=il(l=a))&&ul?ul.p(l,s):(ul.d(1),(ul=hl(l))&&(ul.c(),ul.m(c,null)));let n=N;(N=pl(l))===n?ml[N].p(l,s):(P(),E(ml[n],1,1,()=>{ml[n]=null}),T(),(S=ml[N])||(S=ml[N]=dl[N](l)).c(),k(S,1),S.m(w,null)),128&s&&A(g,"is-active",l[24].visibility)},i(l){el||(k(S),k(vl.$$.fragment,l),k(gl.$$.fragment,l),k(kl.$$.fragment,l),k(El.$$.fragment,l),el=!0)},o(l){E(S),E(vl.$$.fragment,l),E(gl.$$.fragment,l),E(kl.$$.fragment,l),E(El.$$.fragment,l),el=!1},d(l){l&&h(a),ul.d(),ml[N].d(),x(vl),x(gl),x(kl),x(El),D(ol)}}}function Ul(l){let a,s;return{c(){a=t("p"),s=r("...waiting")},l(l){a=e(l,"P",{});var n=o(a);s=i(n,"...waiting"),n.forEach(h)},m(l,n){f(l,a,n),d(a,s)},p:j,i:j,o:j,d(l){l&&h(a)}}}function ql(l){let a,s,c,m,v,g,S,_,O,B,U,q,M,j,L,R,C,H,G,J,K,Q,W,X,Y,Z,ll,al,sl,nl,cl,tl=l[2],rl=[];for(let a=0;a<tl.length;a+=1)rl[a]=wl(kl(l,tl,a));let el=null;tl.length||(el=El());const ol=new n({props:{icon:z,class:"icon"}});let il=l[7].length>0&&bl(l);const hl=new vl({props:{showAddToPlaylistModal:l[4],track:l[6]}});let ul=l[3]&&Il(l);return{c(){a=p(),s=t("h1"),c=r("Search"),m=p(),v=t("div"),g=t("div"),S=t("input"),_=p(),O=t("div"),B=t("div"),U=t("div"),q=t("div"),M=t("div"),j=t("button"),L=t("span"),R=r("Sources"),C=p(),H=t("span"),G=t("i"),J=p(),K=t("div"),Q=t("div");for(let l=0;l<rl.length;l+=1)rl[l].c();el&&el.c(),W=p(),X=t("div"),Y=t("button"),b(ol.$$.fragment),Z=p(),il&&il.c(),ll=p(),b(hl.$$.fragment),al=p(),ul&&ul.c(),sl=w(),this.h()},l(l){F('[data-svelte="svelte-3s7lyl"]',document.head).forEach(h),a=$(l),s=e(l,"H1",{class:!0});var n=o(s);c=i(n,"Search"),n.forEach(h),m=$(l),v=e(l,"DIV",{class:!0});var t=o(v);g=e(t,"DIV",{class:!0});var r=o(g);S=e(r,"INPUT",{class:!0,type:!0,placeholder:!0}),r.forEach(h),_=$(t),O=e(t,"DIV",{class:!0});var u=o(O);B=e(u,"DIV",{class:!0});var f=o(B);U=e(f,"DIV",{class:!0});var d=o(U);q=e(d,"DIV",{class:!0});var p=o(q);M=e(p,"DIV",{class:!0});var k=o(M);j=e(k,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var E=o(j);L=e(E,"SPAN",{});var b=o(L);R=i(b,"Sources"),b.forEach(h),C=$(E),H=e(E,"SPAN",{class:!0});var A=o(H);G=e(A,"I",{class:!0,"aria-hidden":!0}),o(G).forEach(h),A.forEach(h),E.forEach(h),k.forEach(h),J=$(p),K=e(p,"DIV",{class:!0,id:!0,role:!0});var I=o(K);Q=e(I,"DIV",{class:!0});var D=o(Q);for(let l=0;l<rl.length;l+=1)rl[l].l(D);el&&el.l(D),D.forEach(h),I.forEach(h),p.forEach(h),d.forEach(h),W=$(f),X=e(f,"DIV",{class:!0});var V=o(X);Y=e(V,"BUTTON",{class:!0});var P=o(Y);y(ol.$$.fragment,P),P.forEach(h),V.forEach(h),Z=$(f),il&&il.l(f),f.forEach(h),u.forEach(h),t.forEach(h),ll=$(l),y(hl.$$.fragment,l),al=$(l),ul&&ul.l(l),sl=w(),this.h()},h(){document.title="Search",u(s,"class","title"),u(S,"class","input is-rounded"),u(S,"type","text"),u(S,"placeholder","Search for music"),u(g,"class","column"),u(G,"class","fas fa-angle-down"),u(G,"aria-hidden","true"),u(H,"class","icon is-small"),u(j,"class","button"),u(j,"aria-haspopup","true"),u(j,"aria-controls","dropdown-menu-sources"),u(M,"class","dropdown-trigger"),u(Q,"class","dropdown-content"),u(K,"class","dropdown-menu"),u(K,"id","dropdown-menu-sources"),u(K,"role","menu"),u(q,"class","dropdown"),A(q,"is-active",l[0]),u(U,"class","column"),u(Y,"class","button"),u(X,"class","column"),u(B,"class","columns is-mobile"),u(O,"class","column is-narrow"),u(v,"class","columns")},m(n,t,r){f(n,a,t),f(n,s,t),d(s,c),f(n,m,t),f(n,v,t),d(v,g),d(g,S),d(v,_),d(v,O),d(O,B),d(B,U),d(U,q),d(q,M),d(M,j),d(j,L),d(L,R),d(j,C),d(j,H),d(H,G),d(q,J),d(q,K),d(K,Q);for(let l=0;l<rl.length;l+=1)rl[l].m(Q,null);el&&el.m(Q,null),d(B,W),d(B,X),d(X,Y),I(ol,Y,null),d(B,Z),il&&il.m(B,null),f(n,ll,t),I(hl,n,t),f(n,al,t),ul&&ul.m(n,t),f(n,sl,t),nl=!0,r&&D(cl),cl=[V(S,"keydown",l[8]),V(M,"click",l[16]),V(Y,"click",l[8])]},p(l,[a]){if(6&a){let s;for(tl=l[2],s=0;s<tl.length;s+=1){const n=kl(l,tl,s);rl[s]?rl[s].p(n,a):(rl[s]=wl(n),rl[s].c(),rl[s].m(Q,null))}for(;s<rl.length;s+=1)rl[s].d(1);rl.length=tl.length,tl.length?el&&(el.d(1),el=null):el||((el=El()).c(),el.m(Q,null))}1&a&&A(q,"is-active",l[0]),l[7].length>0?il?(il.p(l,a),k(il,1)):((il=bl(l)).c(),k(il,1),il.m(B,null)):il&&(P(),E(il,1,1,()=>{il=null}),T());const s={};16&a&&(s.showAddToPlaylistModal=l[4]),64&a&&(s.track=l[6]),hl.$set(s),l[3]?ul?(ul.p(l,a),k(ul,1)):((ul=Il(l)).c(),k(ul,1),ul.m(sl.parentNode,sl)):ul&&(P(),E(ul,1,1,()=>{ul=null}),T())},i(l){nl||(k(ol.$$.fragment,l),k(il),k(hl.$$.fragment,l),k(ul),nl=!0)},o(l){E(ol.$$.fragment,l),E(il),E(hl.$$.fragment,l),E(ul),nl=!1},d(l){l&&h(a),l&&h(s),l&&h(m),l&&h(v),N(rl,l),el&&el.d(),x(ol),il&&il.d(),l&&h(ll),x(hl,l),l&&h(al),ul&&ul.d(l),l&&h(sl),D(cl)}}}const Ml=l=>l.name;function jl(l,a,s){let n;S(l,_,l=>s(13,n=l));let c,t,r=!1,e=["local"],o=["http","https","mms","rtmp","rtmps","rtsp","file"],i=[],h=!1,u=!1,f=[];async function d(l){const a=e.map(l=>l+":"),c=await n.library.search({query:{any:[l]},uris:[`${a}`]});if(c&&c.length>0){let{tracks:l}=c.pop();return s(7,f=l),!0}}B(async()=>{U(_,n=await q());const l=await n.getUriSchemes();l&&s(2,i=l.filter(l=>-1===o.indexOf(l)))});const m=[[]];return[r,e,i,c,h,u,t,f,function(l){13===l.which&&setTimeout(()=>{s(3,c=d(l.target.value))},100)},l=>{delete l.visibility,s(6,t=l),s(4,h=!h)},()=>{f.forEach(l=>delete l.visibility),n.tracklist.clear(),n.tracklist.add([f]),n.playback.play(),s(5,u=!u)},()=>{f.forEach(l=>delete l.visibility),n.tracklist.clear(),n.tracklist.add([f]),n.tracklist.shuffle(),n.playback.play(),s(5,u=!u)},()=>{f.forEach(l=>delete l.visibility),n.tracklist.add([f]),s(5,u=!u)},n,o,d,()=>s(0,r=!r),function(){e=Y(m[0]),s(1,e)},m,()=>s(5,u=!u),l=>s(7,l.visibility=!l.visibility,f),l=>s(7,l.visibility=!l.visibility,f)]}export default class extends l{constructor(l){super(),a(this,l,jl,ql,s,{})}}
