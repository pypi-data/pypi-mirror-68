<!-- -*- mode: jinja2 -*- -->
{% extends 'base.html' %}

{% macro render_pipeline(pipeline) -%}
    <tr>
        <td>{{ pipeline.name }}</td>
        <td>{{ pipeline.time_of_results }}</td>
        <td>
            <a href="{{ url_for('show_pipeline', storage=s, name=pipeline.name) }}" class="btn btn-xs btn-default"><span class="glyphicon glyphicon-th-list"></span> Show details</a>
        </td>
    </tr>
{%- endmacro %}

{% block breadcrumb %}
    <ol class="breadcrumb">
        <li class="active">Hyperpipe</li>
    </ol>
{% endblock %}

{% block content %}
<section class="content-header">
    <h1>List of all <em>hyperpipes</em></h1>
    <small>For more details select one</small>
</section>
<section class="content">
    <div class="box box-default">
        <div class="box-body">
            {% if pipelines %}
                <table class="table table-hover">
                    <tr>
                        <th>Name</th>
                        <th>Time of results</th>
                        <th>Options</th>
                    </tr>
                    {% for pipeline in pipelines %}
                        {{ render_pipeline(pipeline) }}
                    {% endfor %}
                </table>
            {% else %}
                <p class="no-posts">Nothing to see yet! Come back soon and check for updates.</p>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
