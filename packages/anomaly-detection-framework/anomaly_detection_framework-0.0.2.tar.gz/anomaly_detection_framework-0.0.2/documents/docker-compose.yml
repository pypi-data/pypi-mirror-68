version: '2'

services:
  ml_executor-services:
    build:
      context: .
      dockerfile: dockerfile2
    image: anomaly_detection_framework_ml_executor-services
    ports:
      - "7000:7000"
    volumes:
      - ./:/app
  model-services-iso_f:
    build:
      context: .
      dockerfile: dockerfile
    image: anomaly_detection_framework_model-services
    ports:
      - "6000:6000"
    entrypoint: ["python", "app/model_api.py", "model_iso_f"]
    volumes:
      - ./:/app
  model-services-lstm:
    build:
      context: .
      dockerfile: dockerfile
    image: anomaly_detection_framework_model-services
    ports:
      - "6001:6001"
    volumes:
      - ./:/app
    entrypoint: ["python", "app/model_api.py", "model_lstm"]
  model-services-prophet:
    build:
      context: .
      dockerfile: dockerfile
    image: anomaly_detection_framework_model-services
    ports:
      - "6002:6002"
    entrypoint: ["python", "app/model_api.py", "model_prophet"]
    volumes:
      - ./:/app
