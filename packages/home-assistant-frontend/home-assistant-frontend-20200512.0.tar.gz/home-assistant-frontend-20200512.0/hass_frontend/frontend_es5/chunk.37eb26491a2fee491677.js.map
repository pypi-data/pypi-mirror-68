{"version":3,"sources":["webpack:///src/observer.ts","webpack:///./src/components/ha-icon-input.ts","webpack:///./src/components/ha-dialog.ts","webpack:///./src/common/string/slugify.ts","webpack:///./src/panels/config/lovelace/dashboards/dialog-lovelace-dashboard-detail.ts"],"names":["__webpack_require__","d","__webpack_exports__","observer","_observer","proto","propName","constructor","_observers","hasOwnProperty","observers","Map","forEach","v","k","set","userUpdated","updated","changedProperties","_this","this","call","get","undefined","_decorate","customElement","_initialize","_LitElement","F","_LitElement2","_inherits","HaIconInput","_super","_createSuper","_classCallCheck","_len","arguments","length","args","Array","_key","apply","concat","_assertThisInitialized","kind","decorators","property","key","value","attribute","type","Boolean","html","_templateObject","label","placeholder","_valueChanged","disabled","errorMessage","_templateObject2","ev","detail","fireEvent","bubbles","composed","static","css","_templateObject3","LitElement","MwcDialog","customElements","createCloseHeading","hass","title","localize","mdiClose","_MwcDialog","_MwcDialog2","HaDialog","style","slugify","a","p","RegExp","split","join","toString","toLowerCase","replace","c","charAt","indexOf","DialogLovelaceDashboardDetail","_showDialog","_asyncToGenerator","regeneratorRuntime","mark","_callee","params","wrap","_context","prev","next","_params","_error","_urlPath","urlPath","dashboard","_showInSidebar","show_in_sidebar","_icon","icon","_title","_requireAdmin","require_admin","updateComplete","stop","_x","_this$hass$userData","_this$hass$userData2","_this$_params$dashboa","_this$_params$dashboa2","defaultPanelUrlPath","defaultPanel","urlInvalid","test","titleInvalid","trim","_close","id","_templateObject4","_titleChanged","userData","showAdvanced","_fillUrlPath","_iconChanged","_templateObject5","_urlChanged","_showSidebarChanged","_requireAdminChanged","_templateObject6","_templateObject7","_deleteDashboard","_submitting","_toggleDefault","_updateDashboard","_this$hass$userData3","_this$hass$userData4","slugifyTitle","includes","target","checked","_this$_params","setDefaultPanel","DEFAULT_PANEL","_updateDashboard2","_callee2","_this$_params2","_this$_params$dashboa3","values","_context2","updateDashboard","url_path","mode","createDashboard","t0","message","finish","_deleteDashboard2","_callee3","_context3","removeDashboard","sent","haStyleDialog","_templateObject8"],"mappings":"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","file":"chunk.37eb26491a2fee491677.js","sourcesContent":["/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\nimport {PropertyValues} from 'lit-element/lib/updating-element';\n\nexport interface Observer {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (value: any, old: any): void;\n}\n\nexport const observer = (observer: Observer) =>\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (proto: any, propName: PropertyKey) => {\n      // if we haven't wrapped `updated` in this class, do so\n      if (!proto.constructor._observers) {\n        proto.constructor._observers = new Map<PropertyKey, Observer>();\n        const userUpdated = proto.updated;\n        proto.updated = function(changedProperties: PropertyValues) {\n          userUpdated.call(this, changedProperties);\n          changedProperties.forEach((v, k) => {\n            const observer = this.constructor._observers.get(k);\n            if (observer !== undefined) {\n              observer.call(this, this[k], v);\n            }\n          });\n        };\n        // clone any existing observers (superclasses)\n      } else if (!proto.constructor.hasOwnProperty('_observers')) {\n        const observers = proto.constructor._observers;\n        proto.constructor._observers = new Map();\n        observers.forEach(\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (v: any, k: PropertyKey) => proto.constructor._observers.set(k, v));\n      }\n      // set this method\n      proto.constructor._observers.set(propName, observer);\n    };\n","import \"@polymer/paper-input/paper-input\";\nimport {\n  css,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport \"./ha-icon\";\n\n@customElement(\"ha-icon-input\")\nexport class HaIconInput extends LitElement {\n  @property() public value?: string;\n\n  @property() public label?: string;\n\n  @property() public placeholder?: string;\n\n  @property({ attribute: \"error-message\" }) public errorMessage?: string;\n\n  @property({ type: Boolean }) public disabled = false;\n\n  protected render(): TemplateResult {\n    return html`\n      <paper-input\n        .value=${this.value}\n        .label=${this.label}\n        .placeholder=${this.placeholder}\n        @value-changed=${this._valueChanged}\n        .disabled=${this.disabled}\n        auto-validate\n        .errorMessage=${this.errorMessage}\n        pattern=\"^\\\\S+:\\\\S+$\"\n      >\n        ${this.value || this.placeholder\n          ? html`\n              <ha-icon .icon=${this.value || this.placeholder} slot=\"suffix\">\n              </ha-icon>\n            `\n          : \"\"}\n      </paper-input>\n    `;\n  }\n\n  private _valueChanged(ev: CustomEvent) {\n    this.value = ev.detail.value;\n    fireEvent(\n      this,\n      \"value-changed\",\n      { value: ev.detail.value },\n      {\n        bubbles: false,\n        composed: false,\n      }\n    );\n  }\n\n  static get styles() {\n    return css`\n      ha-icon {\n        position: relative;\n        bottom: 4px;\n      }\n    `;\n  }\n}\n","import \"@material/mwc-dialog\";\nimport type { Dialog } from \"@material/mwc-dialog\";\nimport { style } from \"@material/mwc-dialog/mwc-dialog-css\";\nimport \"./ha-icon-button\";\nimport { css, CSSResult, customElement, html } from \"lit-element\";\nimport type { Constructor, HomeAssistant } from \"../types\";\nimport { mdiClose } from \"@mdi/js\";\n\nconst MwcDialog = customElements.get(\"mwc-dialog\") as Constructor<Dialog>;\n\nexport const createCloseHeading = (hass: HomeAssistant, title: string) => html`\n  ${title}\n  <mwc-icon-button\n    aria-label=${hass.localize(\"ui.dialogs.generic.close\")}\n    dialogAction=\"close\"\n    class=\"close_button\"\n  >\n    <ha-svg-icon path=${mdiClose}></ha-svg-icon>\n  </mwc-icon-button>\n`;\n\n@customElement(\"ha-dialog\")\nexport class HaDialog extends MwcDialog {\n  protected static get styles(): CSSResult[] {\n    return [\n      style,\n      css`\n        .mdc-dialog__actions {\n          justify-content: var(--justify-action-buttons, flex-end);\n        }\n        .mdc-dialog__container {\n          align-items: var(--vertial-align-dialog, center);\n        }\n        .mdc-dialog__title::before {\n          display: block;\n          height: 20px;\n        }\n        .close_button {\n          position: absolute;\n          right: 16px;\n          top: 12px;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-dialog\": HaDialog;\n  }\n}\n","// https://gist.github.com/hagemann/382adfc57adbd5af078dc93feef01fe1\nexport const slugify = (value: string) => {\n  const a =\n    \"àáäâãåăæąçćčđďèéěėëêęğǵḧìíïîįłḿǹńňñòóöôœøṕŕřßşśšșťțùúüûǘůűūųẃẍÿýźžż·/_,:;\";\n  const b =\n    \"aaaaaaaaacccddeeeeeeegghiiiiilmnnnnooooooprrsssssttuuuuuuuuuwxyyzzz------\";\n  const p = new RegExp(a.split(\"\").join(\"|\"), \"g\");\n\n  return value\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, \"-\") // Replace spaces with -\n    .replace(p, (c) => b.charAt(a.indexOf(c))) // Replace special characters\n    .replace(/&/g, \"-and-\") // Replace & with 'and'\n    .replace(/[^\\w-]+/g, \"\") // Remove all non-word characters\n    .replace(/--+/g, \"-\") // Replace multiple - with single -\n    .replace(/^-+/, \"\") // Trim - from start of text\n    .replace(/-+$/, \"\"); // Trim - from end of text\n};\n","import \"@material/mwc-button/mwc-button\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\nimport { createCloseHeading } from \"../../../../components/ha-dialog\";\nimport \"../../../../components/ha-icon-input\";\nimport { HaSwitch } from \"../../../../components/ha-switch\";\nimport { slugify } from \"../../../../common/string/slugify\";\nimport {\n  LovelaceDashboard,\n  LovelaceDashboardCreateParams,\n  LovelaceDashboardMutableParams,\n} from \"../../../../data/lovelace\";\nimport { DEFAULT_PANEL, setDefaultPanel } from \"../../../../data/panel\";\nimport { PolymerChangedEvent } from \"../../../../polymer-types\";\nimport { haStyleDialog } from \"../../../../resources/styles\";\nimport { HomeAssistant } from \"../../../../types\";\nimport { LovelaceDashboardDetailsDialogParams } from \"./show-dialog-lovelace-dashboard-detail\";\n\n@customElement(\"dialog-lovelace-dashboard-detail\")\nexport class DialogLovelaceDashboardDetail extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property() private _params?: LovelaceDashboardDetailsDialogParams;\n\n  @property() private _urlPath!: LovelaceDashboard[\"url_path\"];\n\n  @property() private _showInSidebar!: boolean;\n\n  @property() private _icon!: string;\n\n  @property() private _title!: string;\n\n  @property() private _requireAdmin!: LovelaceDashboard[\"require_admin\"];\n\n  @property() private _error?: string;\n\n  @property() private _submitting = false;\n\n  public async showDialog(\n    params: LovelaceDashboardDetailsDialogParams\n  ): Promise<void> {\n    this._params = params;\n    this._error = undefined;\n    this._urlPath = this._params.urlPath || \"\";\n    if (this._params.dashboard) {\n      this._showInSidebar = !!this._params.dashboard.show_in_sidebar;\n      this._icon = this._params.dashboard.icon || \"\";\n      this._title = this._params.dashboard.title || \"\";\n      this._requireAdmin = this._params.dashboard.require_admin || false;\n    } else {\n      this._showInSidebar = true;\n      this._icon = \"\";\n      this._title = \"\";\n      this._requireAdmin = false;\n    }\n    await this.updateComplete;\n  }\n\n  protected render(): TemplateResult {\n    if (!this._params) {\n      return html``;\n    }\n    const defaultPanelUrlPath = this.hass.defaultPanel;\n    const urlInvalid =\n      this._params.urlPath !== \"lovelace\" &&\n      !/^[a-zA-Z0-9_-]+-[a-zA-Z0-9_-]+$/.test(this._urlPath);\n    const titleInvalid = !this._title.trim();\n    return html`\n      <ha-dialog\n        open\n        @closing=\"${this._close}\"\n        scrimClickAction\n        escapeKeyAction\n        .heading=${createCloseHeading(\n          this.hass,\n          this._params.urlPath\n            ? this._title ||\n                this.hass.localize(\n                  \"ui.panel.config.lovelace.dashboards.detail.edit_dashboard\"\n                )\n            : this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.detail.new_dashboard\"\n              )\n        )}\n      >\n        <div>\n          ${this._params.dashboard && !this._params.dashboard.id\n            ? this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.cant_edit_yaml\"\n              )\n            : this._params.urlPath === \"lovelace\"\n            ? this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.cant_edit_default\"\n              )\n            : html`\n                ${this._error\n                  ? html` <div class=\"error\">${this._error}</div> `\n                  : \"\"}\n                <div class=\"form\">\n                  <paper-input\n                    .value=${this._title}\n                    @value-changed=${this._titleChanged}\n                    .label=${this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.title\"\n                    )}\n                    @blur=${this.hass.userData?.showAdvanced\n                      ? this._fillUrlPath\n                      : undefined}\n                    .invalid=${titleInvalid}\n                    .errorMessage=${this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.title_required\"\n                    )}\n                    dialogInitialFocus\n                  ></paper-input>\n                  <ha-icon-input\n                    .value=${this._icon}\n                    @value-changed=${this._iconChanged}\n                    .label=${this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.icon\"\n                    )}\n                  ></ha-icon-input>\n                  ${!this._params.dashboard && this.hass.userData?.showAdvanced\n                    ? html`\n                        <paper-input\n                          .value=${this._urlPath}\n                          @value-changed=${this._urlChanged}\n                          .label=${this.hass.localize(\n                            \"ui.panel.config.lovelace.dashboards.detail.url\"\n                          )}\n                          .errorMessage=${this.hass.localize(\n                            \"ui.panel.config.lovelace.dashboards.detail.url_error_msg\"\n                          )}\n                          .invalid=${urlInvalid}\n                        ></paper-input>\n                      `\n                    : \"\"}\n                  <ha-switch\n                    .checked=${this._showInSidebar}\n                    @change=${this._showSidebarChanged}\n                    >${this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.show_sidebar\"\n                    )}\n                  </ha-switch>\n                  <ha-switch\n                    .checked=${this._requireAdmin}\n                    @change=${this._requireAdminChanged}\n                    >${this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.require_admin\"\n                    )}\n                  </ha-switch>\n                </div>\n              `}\n        </div>\n        ${this._params.urlPath\n          ? html`\n              ${this._params.dashboard?.id\n                ? html`\n                    <mwc-button\n                      slot=\"secondaryAction\"\n                      class=\"warning\"\n                      @click=${this._deleteDashboard}\n                      .disabled=${this._submitting}\n                    >\n                      ${this.hass.localize(\n                        \"ui.panel.config.lovelace.dashboards.detail.delete\"\n                      )}\n                    </mwc-button>\n                  `\n                : \"\"}\n              <mwc-button\n                slot=\"secondaryAction\"\n                @click=${this._toggleDefault}\n                .disabled=${this._params.urlPath === \"lovelace\" &&\n                defaultPanelUrlPath === \"lovelace\"}\n              >\n                ${this._params.urlPath === defaultPanelUrlPath\n                  ? this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.remove_default\"\n                    )\n                  : this.hass.localize(\n                      \"ui.panel.config.lovelace.dashboards.detail.set_default\"\n                    )}\n              </mwc-button>\n            `\n          : \"\"}\n        <mwc-button\n          slot=\"primaryAction\"\n          @click=\"${this._updateDashboard}\"\n          .disabled=${urlInvalid || titleInvalid || this._submitting}\n        >\n          ${this._params.urlPath\n            ? this._params.dashboard?.id\n              ? this.hass.localize(\n                  \"ui.panel.config.lovelace.dashboards.detail.update\"\n                )\n              : this.hass.localize(\"ui.common.close\")\n            : this.hass.localize(\n                \"ui.panel.config.lovelace.dashboards.detail.create\"\n              )}\n        </mwc-button>\n      </ha-dialog>\n    `;\n  }\n\n  private _urlChanged(ev: PolymerChangedEvent<string>) {\n    this._error = undefined;\n    this._urlPath = ev.detail.value;\n  }\n\n  private _iconChanged(ev: PolymerChangedEvent<string>) {\n    this._error = undefined;\n    this._icon = ev.detail.value;\n  }\n\n  private _titleChanged(ev: PolymerChangedEvent<string>) {\n    this._error = undefined;\n    this._title = ev.detail.value;\n    if (!this.hass.userData?.showAdvanced) {\n      this._fillUrlPath();\n    }\n  }\n\n  private _fillUrlPath() {\n    if ((this.hass.userData?.showAdvanced && this._urlPath) || !this._title) {\n      return;\n    }\n\n    const slugifyTitle = slugify(this._title);\n    this._urlPath = slugifyTitle.includes(\"-\")\n      ? slugifyTitle\n      : `lovelace-${slugifyTitle}`;\n  }\n\n  private _showSidebarChanged(ev: Event) {\n    this._showInSidebar = (ev.target as HaSwitch).checked;\n  }\n\n  private _requireAdminChanged(ev: Event) {\n    this._requireAdmin = (ev.target as HaSwitch).checked;\n  }\n\n  private _toggleDefault() {\n    const urlPath = this._params?.urlPath;\n    if (!urlPath) {\n      return;\n    }\n    setDefaultPanel(\n      this,\n      urlPath === this.hass.defaultPanel ? DEFAULT_PANEL : urlPath\n    );\n  }\n\n  private async _updateDashboard() {\n    if (this._params?.urlPath && !this._params.dashboard?.id) {\n      this._close();\n    }\n    this._submitting = true;\n    try {\n      const values: Partial<LovelaceDashboardMutableParams> = {\n        require_admin: this._requireAdmin,\n        show_in_sidebar: this._showInSidebar,\n        icon: this._icon || undefined,\n        title: this._title,\n      };\n      if (this._params!.dashboard) {\n        await this._params!.updateDashboard(values);\n      } else {\n        (values as LovelaceDashboardCreateParams).url_path = this._urlPath.trim();\n        (values as LovelaceDashboardCreateParams).mode = \"storage\";\n        await this._params!.createDashboard(\n          values as LovelaceDashboardCreateParams\n        );\n      }\n      this._close();\n    } catch (err) {\n      this._error = err?.message || \"Unknown error\";\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  private async _deleteDashboard() {\n    this._submitting = true;\n    try {\n      if (await this._params!.removeDashboard()) {\n        this._close();\n      }\n    } finally {\n      this._submitting = false;\n    }\n  }\n\n  private _close(): void {\n    this._params = undefined;\n  }\n\n  static get styles(): CSSResult[] {\n    return [\n      haStyleDialog,\n      css`\n        ha-switch {\n          padding: 16px 0;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"dialog-lovelace-dashboard-detail\": DialogLovelaceDashboardDetail;\n  }\n}\n"],"sourceRoot":""}