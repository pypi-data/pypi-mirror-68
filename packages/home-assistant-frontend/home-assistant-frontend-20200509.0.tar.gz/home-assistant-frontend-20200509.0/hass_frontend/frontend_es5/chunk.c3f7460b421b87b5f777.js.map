{"version":3,"sources":["webpack:///./src/components/ha-tab.ts","webpack:///./src/layouts/hass-tabs-subpage.ts"],"names":["_decorate","customElement","_initialize","_LitElement","F","_LitElement2","_inherits","HaTab","_super","_createSuper","_this","_classCallCheck","this","_len","arguments","length","args","Array","_key","call","apply","concat","_assertThisInitialized","d","kind","decorators","property","type","Boolean","reflect","key","value","queryAsync","internalProperty","html","_templateObject","active","ifDefined","name","handleRippleFocus","handleRippleBlur","handleRippleActivate","handleRippleDeactivate","handleRippleMouseEnter","handleRippleMouseLeave","_handleKeyDown","_handleClick","narrow","_templateObject2","_templateObject3","_shouldRenderRipple","_templateObject4","_this2","RippleHandlers","_ripple","ev","keyCode","fireEvent","eventOptions","passive","evt","_rippleHandlers","startPress","endPress","startHover","endHover","startFocus","endFocus","static","css","_templateObject5","LitElement","HassTabsSubpage","String","attribute","memoizeOne","tabs","activeTab","showAdvanced","_components","_language","_narrow","filter","page","component","core","isComponentLoaded","hass","advancedOnly","map","hass_tabs_subpage_templateObject","_tabTapped","path","translationKey","localize","iconPath","hass_tabs_subpage_templateObject2","hass_tabs_subpage_templateObject3","icon","changedProperties","_this3","_get","hass_tabs_subpage_getPrototypeOf","prototype","has","_activeTab","find","tab","route","prefix","includes","_this$hass$userData","_getTabs","userData","config","components","language","hass_tabs_subpage_templateObject4","mainPage","hass_tabs_subpage_templateObject5","hassio","_templateObject6","_backTapped","_templateObject7","_templateObject8","classMap","bottom-bar","navigate","currentTarget","backPath","backCallback","history","back","_templateObject9"],"mappings":"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","file":"chunk.c3f7460b421b87b5f777.js","sourcesContent":["import {\n  css,\n  CSSResult,\n  customElement,\n  LitElement,\n  property,\n  TemplateResult,\n  html,\n  queryAsync,\n  internalProperty,\n  eventOptions,\n} from \"lit-element\";\nimport \"@material/mwc-ripple/mwc-ripple\";\nimport type { Ripple } from \"@material/mwc-ripple\";\nimport { RippleHandlers } from \"@material/mwc-ripple/ripple-handlers\";\nimport \"./ha-icon\";\nimport \"./ha-svg-icon\";\nimport { ifDefined } from \"lit-html/directives/if-defined\";\nimport { fireEvent } from \"../common/dom/fire_event\";\n\ndeclare global {\n  // for fire event\n  interface HASSDomEvents {\n    activated: undefined;\n  }\n}\n\n@customElement(\"ha-tab\")\nexport class HaTab extends LitElement {\n  @property({ type: Boolean, reflect: true }) public active = false;\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property() public name?: string;\n\n  @queryAsync(\"mwc-ripple\") private _ripple!: Promise<Ripple | null>;\n\n  @internalProperty() private _shouldRenderRipple = false;\n\n  protected render(): TemplateResult {\n    return html`\n      <div\n        tabindex=\"0\"\n        role=\"tab\"\n        aria-selected=${this.active}\n        aria-label=${ifDefined(this.name)}\n        @focus=${this.handleRippleFocus}\n        @blur=${this.handleRippleBlur}\n        @mousedown=${this.handleRippleActivate}\n        @mouseup=${this.handleRippleDeactivate}\n        @mouseenter=${this.handleRippleMouseEnter}\n        @mouseleave=${this.handleRippleMouseLeave}\n        @touchstart=${this.handleRippleActivate}\n        @touchend=${this.handleRippleDeactivate}\n        @touchcancel=${this.handleRippleDeactivate}\n        @keydown=${this._handleKeyDown}\n        @click=${this._handleClick}\n      >\n        ${this.narrow ? html`<slot name=\"icon\"></slot>` : \"\"}\n        ${!this.narrow || this.active\n          ? html` <span class=\"name\">${this.name}</span> `\n          : \"\"}\n        ${this._shouldRenderRipple ? html`<mwc-ripple></mwc-ripple>` : \"\"}\n      </div>\n    `;\n  }\n\n  private _rippleHandlers: RippleHandlers = new RippleHandlers(() => {\n    this._shouldRenderRipple = true;\n    return this._ripple;\n  });\n\n  private _handleKeyDown(ev: KeyboardEvent): void {\n    if (ev.keyCode === 13) {\n      fireEvent(this, \"activated\");\n    }\n  }\n\n  private _handleClick(): void {\n    fireEvent(this, \"activated\");\n  }\n\n  @eventOptions({ passive: true })\n  private handleRippleActivate(evt?: Event) {\n    this._rippleHandlers.startPress(evt);\n  }\n\n  private handleRippleDeactivate() {\n    this._rippleHandlers.endPress();\n  }\n\n  private handleRippleMouseEnter() {\n    this._rippleHandlers.startHover();\n  }\n\n  private handleRippleMouseLeave() {\n    this._rippleHandlers.endHover();\n  }\n\n  private handleRippleFocus() {\n    this._rippleHandlers.startFocus();\n  }\n\n  private handleRippleBlur() {\n    this._rippleHandlers.endFocus();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      div {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        align-items: center;\n        justify-content: center;\n        height: 64px;\n        cursor: pointer;\n        position: relative;\n        outline: none;\n        box-sizing: border-box;\n      }\n\n      .name {\n        white-space: nowrap;\n      }\n\n      :host([active]) {\n        color: var(--primary-color);\n      }\n\n      :host(:not([narrow])[active]) div {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      :host([narrow]) {\n        padding: 0 16px;\n        width: 20%;\n        min-width: 0;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-tab\": HaTab;\n  }\n}\n","import \"@material/mwc-ripple\";\nimport {\n  css,\n  CSSResult,\n  customElement,\n  html,\n  LitElement,\n  property,\n  PropertyValues,\n  TemplateResult,\n} from \"lit-element\";\nimport { classMap } from \"lit-html/directives/class-map\";\nimport memoizeOne from \"memoize-one\";\nimport { isComponentLoaded } from \"../common/config/is_component_loaded\";\nimport { navigate } from \"../common/navigate\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-icon-button-arrow-prev\";\nimport { HomeAssistant, Route } from \"../types\";\nimport \"../components/ha-svg-icon\";\nimport \"../components/ha-icon\";\nimport \"../components/ha-tab\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string;\n  name?: string;\n  core?: boolean;\n  advancedOnly?: boolean;\n  icon?: string;\n  iconPath?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property() public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public hassio = false;\n\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n\n  @property() public backCallback?: () => void;\n\n  @property({ type: Boolean, attribute: \"main-page\" }) public mainPage = false;\n\n  @property() public route!: Route;\n\n  @property() public tabs!: PageNavigation[];\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property() private _activeTab?: PageNavigation;\n\n  private _getTabs = memoizeOne(\n    (\n      tabs: PageNavigation[],\n      activeTab: PageNavigation | undefined,\n      showAdvanced: boolean | undefined,\n      _components,\n      _language,\n      _narrow\n    ) => {\n      const shownTabs = tabs.filter(\n        (page) =>\n          (!page.component ||\n            page.core ||\n            isComponentLoaded(this.hass, page.component)) &&\n          (!page.advancedOnly || showAdvanced)\n      );\n\n      return shownTabs.map(\n        (page) =>\n          html`\n            <ha-tab\n              .hass=${this.hass}\n              @activated=${this._tabTapped}\n              .path=${page.path}\n              .active=${page === activeTab}\n              .narrow=${this.narrow}\n              .name=${page.translationKey\n                ? this.hass.localize(page.translationKey)\n                : page.name}\n            >\n              ${page.iconPath\n                ? html`<ha-svg-icon\n                    slot=\"icon\"\n                    .path=${page.iconPath}\n                  ></ha-svg-icon>`\n                : html`<ha-icon slot=\"icon\" .icon=${page.icon}></ha-icon>`}\n            </ha-tab>\n          `\n      );\n    }\n  );\n\n  protected updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.find((tab) =>\n        `${this.route.prefix}${this.route.path}`.includes(tab.path)\n      );\n    }\n  }\n\n  protected render(): TemplateResult {\n    const tabs = this._getTabs(\n      this.tabs,\n      this._activeTab,\n      this.hass.userData?.showAdvanced,\n      this.hass.config.components,\n      this.hass.language,\n      this.narrow\n    );\n\n    return html`\n      <div class=\"toolbar\">\n        ${this.mainPage\n          ? html`\n              <ha-menu-button\n                .hassio=${this.hassio}\n                .hass=${this.hass}\n                .narrow=${this.narrow}\n              ></ha-menu-button>\n            `\n          : html`\n              <ha-icon-button-arrow-prev\n                aria-label=\"Back\"\n                @click=${this._backTapped}\n              ></ha-icon-button-arrow-prev>\n            `}\n        ${this.narrow\n          ? html` <div class=\"main-title\"><slot name=\"header\"></slot></div> `\n          : \"\"}\n        ${tabs.length > 1 || !this.narrow\n          ? html`\n              <div id=\"tabbar\" class=${classMap({ \"bottom-bar\": this.narrow })}>\n                ${tabs}\n              </div>\n            `\n          : \"\"}\n        <div id=\"toolbar-icon\">\n          <slot name=\"toolbar-icon\"></slot>\n        </div>\n      </div>\n      <div class=\"content\">\n        <slot></slot>\n      </div>\n    `;\n  }\n\n  private _tabTapped(ev: Event): void {\n    navigate(this, (ev.currentTarget as any).path, true);\n  }\n\n  private _backTapped(): void {\n    if (this.backPath) {\n      navigate(this, this.backPath);\n      return;\n    }\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        display: block;\n        height: 100%;\n        background-color: var(--primary-background-color);\n      }\n\n      ha-menu-button {\n        margin-right: 24px;\n      }\n\n      .toolbar {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        height: 65px;\n        background-color: var(--sidebar-background-color);\n        font-weight: 400;\n        color: var(--sidebar-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n\n      #tabbar {\n        display: flex;\n        font-size: 14px;\n      }\n\n      #tabbar.bottom-bar {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 0 16px;\n        box-sizing: border-box;\n        background-color: var(--sidebar-background-color);\n        border-top: 1px solid var(--divider-color);\n        justify-content: space-between;\n        z-index: 1;\n        font-size: 12px;\n        width: 100%;\n      }\n\n      #tabbar:not(.bottom-bar) {\n        flex: 1;\n        justify-content: center;\n      }\n\n      :host(:not([narrow])) #toolbar-icon {\n        min-width: 40px;\n      }\n\n      ha-menu-button,\n      ha-icon-button-arrow-prev,\n      ::slotted([slot=\"toolbar-icon\"]) {\n        flex-shrink: 0;\n        pointer-events: auto;\n        color: var(--sidebar-icon-color);\n      }\n\n      .main-title {\n        flex: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-height: 40px;\n        line-height: 20px;\n      }\n\n      .content {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 65px);\n        overflow-y: auto;\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      :host([narrow]) .content {\n        height: calc(100% - 128px);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n"],"sourceRoot":""}