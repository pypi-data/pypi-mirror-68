{"version":3,"sources":["webpack:///./src/panels/lovelace/cards/hui-ais-now-playing-poster-card.js"],"names":["__webpack_require__","r","__webpack_exports__","_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__","customElements","define","HTMLElement","hass","this","content","card","document","createElement","appendChild","style","addEventListener","_onClick","offposter","config","off_image","entityId","entity","state","states","stateStr","entityClass","class","replace","setAttribute","movposter","attributes","entity_picture","innerHTML","fireEvent","setConfig","Error","getCardSize"],"mappings":"wFAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,IAqEAI,eAAeC,OAAO,kCAnEtB,cAA+BC,YAC7BC,SAASA,GACP,IAAKC,KAAKC,QAAS,CACjB,MAAMC,EAAOC,SAASC,cAAc,WACpCJ,KAAKC,QAAUE,SAASC,cAAc,OAItCF,EAAKG,YAAYL,KAAKC,SACtBC,EAAKI,MAAQ,oBACbN,KAAKK,YAAYH,GACjBF,KAAKO,iBAAiB,QAAS,WAC7BP,KAAKQ,aAIT,MAAMC,EAAYT,KAAKU,OAAOC,UACxBC,EAAWZ,KAAKU,OAAOG,OACvBC,EAAQf,EAAKgB,OAAOH,GACpBI,EAAWF,EAAQA,EAAMA,MAAQ,cACjCG,EACJjB,KAAKU,OAAOQ,OAASlB,KAAKU,OAAOG,OAAOM,QAAQ,IAAK,KAGvD,GAFAnB,KAAKoB,aAAa,QAASH,GAEvBH,EAAO,CACT,MAAMO,EAAYP,EAAMQ,WAAWC,eAU/BvB,KAAKC,QAAQuB,UARA,YAAbR,GACGK,eAOmCA,uCAE/BZ,eAC6BA,yCAEZ,yFAG5BT,KAAKC,QAAQuB,UAAa,oFAI9BhB,WACEiB,YAAUzB,KAAM,iBAAkB,CAChCY,SAAUZ,KAAKU,OAAOG,SAI1Ba,UAAUhB,GACR,IAAKA,EAAOG,OACV,MAAM,IAAIc,MAAM,gCAElB3B,KAAKU,OAASA,EAKhBkB,cACE,OAAO","file":"chunk.66a14ec168043c314e0c.js","sourcesContent":["import { fireEvent } from \"../../../common/dom/fire_event\";\n\nclass NowPlayingPoster extends HTMLElement {\n  set hass(hass) {\n    if (!this.content) {\n      const card = document.createElement(\"ha-card\");\n      this.content = document.createElement(\"div\");\n\n      // this.content.style = \"!important;\";\n\n      card.appendChild(this.content);\n      card.style = \"background: none;\";\n      this.appendChild(card);\n      this.addEventListener(\"click\", function() {\n        this._onClick();\n      });\n    }\n\n    const offposter = this.config.off_image;\n    const entityId = this.config.entity;\n    const state = hass.states[entityId];\n    const stateStr = state ? state.state : \"unavailable\";\n    const entityClass =\n      this.config.class || this.config.entity.replace(\".\", \"_\");\n    this.setAttribute(\"class\", entityClass);\n\n    if (state) {\n      const movposter = state.attributes.entity_picture;\n\n      if (stateStr === \"playing\") {\n        if (!movposter) {\n          if (offposter) {\n            this.content.innerHTML = `<img src=\"${offposter}\" width=100% align=\"center\" style=\"\">`;\n          } else {\n            this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n          }\n        } else {\n          this.content.innerHTML = `<img src=\"${movposter}\" width=100% height=100%\" style=\"\">`;\n        }\n      } else if (offposter) {\n        this.content.innerHTML = `<img src=\"${offposter}\" width=100% align=\"center\" style=\"\">`;\n      } else {\n        this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n      }\n    } else {\n      this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n    }\n  }\n\n  _onClick() {\n    fireEvent(this, \"hass-more-info\", {\n      entityId: this.config.entity,\n    });\n  }\n\n  setConfig(config) {\n    if (!config.entity) {\n      throw new Error(\"You need to define an entity\");\n    }\n    this.config = config;\n  }\n\n  // The height of your card. Home Assistant uses this to automatically\n  // distribute all cards over the available columns.\n  getCardSize() {\n    return 3;\n  }\n}\n\ncustomElements.define(\"hui-ais-now-playing-poster-card\", NowPlayingPoster);\n"],"sourceRoot":""}