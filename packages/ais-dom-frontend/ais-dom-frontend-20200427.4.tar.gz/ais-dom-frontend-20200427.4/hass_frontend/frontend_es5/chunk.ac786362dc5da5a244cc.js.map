{"version":3,"sources":["webpack:///./src/panels/lovelace/cards/hui-ais-now-playing-poster-card.js"],"names":["NowPlayingPoster","HTMLElement","fireEvent","this","entityId","config","entity","Error","hass","content","card","document","createElement","appendChild","style","addEventListener","_onClick","offposter","off_image","state","states","stateStr","entityClass","replace","setAttribute","movposter","attributes","entity_picture","innerHTML","concat","customElements","define"],"mappings":"u+DAEMA,sPAAyBC,gOAgD3BC,YAAUC,KAAM,iBAAkB,CAChCC,SAAUD,KAAKE,OAAOC,2CAIhBD,GACR,IAAKA,EAAOC,OACV,MAAM,IAAIC,MAAM,gCAElBJ,KAAKE,OAASA,wCAMd,OAAO,6BA9DAG,GACP,IAAKL,KAAKM,QAAS,CACjB,IAAMC,EAAOC,SAASC,cAAc,WACpCT,KAAKM,QAAUE,SAASC,cAAc,OAItCF,EAAKG,YAAYV,KAAKM,SACtBC,EAAKI,MAAQ,oBACbX,KAAKU,YAAYH,GACjBP,KAAKY,iBAAiB,QAAS,WAC7BZ,KAAKa,aAIT,IAAMC,EAAYd,KAAKE,OAAOa,UACxBd,EAAWD,KAAKE,OAAOC,OACvBa,EAAQX,EAAKY,OAAOhB,GACpBiB,EAAWF,EAAQA,EAAMA,MAAQ,cACjCG,EACJnB,KAAKE,OAAL,OAAqBF,KAAKE,OAAOC,OAAOiB,QAAQ,IAAK,KAGvD,GAFApB,KAAKqB,aAAa,QAASF,GAEvBH,EAAO,CACT,IAAMM,EAAYN,EAAMO,WAAWC,eAU/BxB,KAAKM,QAAQmB,UARA,YAAbP,GACGI,EAOH,aAAAI,OAAsCJ,EAAtC,uCAEOR,EACT,aAAAY,OAAsCZ,EAAtC,yCAEA,yFAGFd,KAAKM,QAAQmB,UAAb,yHAwBNE,eAAeC,OAAO,kCAAmC/B","file":"chunk.ac786362dc5da5a244cc.js","sourcesContent":["import { fireEvent } from \"../../../common/dom/fire_event\";\n\nclass NowPlayingPoster extends HTMLElement {\n  set hass(hass) {\n    if (!this.content) {\n      const card = document.createElement(\"ha-card\");\n      this.content = document.createElement(\"div\");\n\n      // this.content.style = \"!important;\";\n\n      card.appendChild(this.content);\n      card.style = \"background: none;\";\n      this.appendChild(card);\n      this.addEventListener(\"click\", function() {\n        this._onClick();\n      });\n    }\n\n    const offposter = this.config.off_image;\n    const entityId = this.config.entity;\n    const state = hass.states[entityId];\n    const stateStr = state ? state.state : \"unavailable\";\n    const entityClass =\n      this.config.class || this.config.entity.replace(\".\", \"_\");\n    this.setAttribute(\"class\", entityClass);\n\n    if (state) {\n      const movposter = state.attributes.entity_picture;\n\n      if (stateStr === \"playing\") {\n        if (!movposter) {\n          if (offposter) {\n            this.content.innerHTML = `<img src=\"${offposter}\" width=100% align=\"center\" style=\"\">`;\n          } else {\n            this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n          }\n        } else {\n          this.content.innerHTML = `<img src=\"${movposter}\" width=100% height=100%\" style=\"\">`;\n        }\n      } else if (offposter) {\n        this.content.innerHTML = `<img src=\"${offposter}\" width=100% align=\"center\" style=\"\">`;\n      } else {\n        this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n      }\n    } else {\n      this.content.innerHTML = `<img src=\"/static/icons/tile-win-310x150.png\" width=100% align=\"center\" style=\"\">`;\n    }\n  }\n\n  _onClick() {\n    fireEvent(this, \"hass-more-info\", {\n      entityId: this.config.entity,\n    });\n  }\n\n  setConfig(config) {\n    if (!config.entity) {\n      throw new Error(\"You need to define an entity\");\n    }\n    this.config = config;\n  }\n\n  // The height of your card. Home Assistant uses this to automatically\n  // distribute all cards over the available columns.\n  getCardSize() {\n    return 3;\n  }\n}\n\ncustomElements.define(\"hui-ais-now-playing-poster-card\", NowPlayingPoster);\n"],"sourceRoot":""}