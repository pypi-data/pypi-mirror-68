Metadata-Version: 2.1
Name: fhirpath-guillotina
Version: 0.4.0
Summary: A guillotina framework powered fhirpath provider.
Home-page: https://github.com/nazrulworld/fhirpath_guillotina
Author: Md Nazrul Islam
Author-email: email2nazrul@gmail.com
License: GNU General Public License v3
Project-URL: CI: Travis, https://travis-ci.com/nazrulworld/fhirpath_guillotina
Project-URL: Coverage: codecov, https://codecov.io/github/nazrulworld/fhirpath_guillotina
Project-URL: Docs: RTD, https://fhirpath-guillotina.readthedocs.io/
Project-URL: GitHub: issues, https://github.com/nazrulworld/fhirpath_guillotina/issues
Project-URL: GitHub: repo, https://github.com/nazrulworld/fhirpath_guillotina
Description: ============
        Introduction
        ============
        
        
        .. image:: https://img.shields.io/pypi/v/fhirpath_guillotina.svg
                :target: https://pypi.org/project/fhirpath/
        
        .. image:: https://img.shields.io/travis/nazrulworld/fhirpath_guillotina.svg
                :target: https://travis-ci.org/nazrulworld/fhirpath_guillotina
        
        .. image:: https://readthedocs.org/projects/fhirpath-guillotina/badge/?version=latest
                :target: https://fhirpath-guillotina.readthedocs.io/en/latest/?badge=latest
                :alt: Documentation Status
        
        .. image:: https://codecov.io/gh/nazrulworld/fhirpath_guillotina/branch/master/graph/badge.svg
          :target: https://codecov.io/gh/nazrulworld/fhirpath_guillotina
          :alt: Test Coverage
        
        
        A guillotina framework powered fhirpath provider. Full battery included to use `fhirpath`_ more efficiently.
        
        If you don't know about FHIR® and HL7®, Please `have a look here <https://www.hl7.org/fhir/>`_.
        
        Quickstart
        ----------
        
        1. Make sure ``fhirpath_guillotina`` is added as addon in your guillotina configure file.
        
        2. Make sure elasticsearch server configured properly.
        
        3. Make sure you have FHIR resource contenttypes registered (see example bellow).
        
        4. Make sure you have FHIR resources mapping (correct version) for elasticsearch.
        
        
        Example: Add Contents::
        
            >>> from fhirpath_guillotina.field import FhirField
        
            class IOrganization(IFhirContent, IContentIndex):
                index_field(
                    "organization_resource",
                    type="object",
                    field_mapping=fhir_resource_mapping("Organization"),
                    fhirpath_enabled=True,
                    resource_type="Organization",
                    fhir_release=FHIR_VERSION.R4,
                )
                index_field("org_type", type="keyword")
                org_type = TextLine(title="Organization Type", required=False)
                organization_resource = FhirField(
                    title="Organization Resource", resource_type="Organization", fhir_release="R4"
                )
        
        
            @configure.contenttype(type_name="Organization", schema=IOrganization)
            class Organization(Folder):
                """ """
        
                index(schemas=[IOrganization], settings={})
                resource_type = "Organization"
        
        
        Example Search::
        
            >>> from guillotina.component import query_utility
            >>> from fhirpath.interfaces import ISearchContextFactory
            >>> from fhirpath.interfaces import IFhirSearch
            >>> search_context = query_utility(ISearchContextFactory).get(
            ...    resource_type="Organization"
            ... )
            >>> search_tool = query_utility(IFhirSearch)
            >>> params = (
            ...     ("active", "true"),
            ...     ("_lastUpdated", "2010-05-28T05:35:56+00:00"),
            ...     ("_profile", "http://hl7.org/fhir/Organization"),
            ...     ("identifier", "urn:oid:2.16.528.1|91654"),
            ...     ("type", "http://hl7.org/fhir/organization-type|prov"),
            ...     ("address-postalcode", "9100 AA")
            ... )
            >>> fhir_bundle = await search_tool(params, context=search_context)
            >>> fhir_bundle.total == len(fhir_bundle.entry)
        
        Example FhirPath Query::
        
            >>> from fhirpath.interfaces import IElasticsearchEngineFactory
            >>> from guillotina.component import query_utility
            >>> from fhirpath.enums import SortOrderType
            >>> from fhirpath.fql import Q_
            >>> from fhirpath.fql import T_
            >>> from fhirpath.fql import V_
            >>> from fhirpath.fql import sort_
            >>> engine = query_utility(IElasticsearchEngineFactory).get()
            >>> query_builder = Q_(resource="Organization", engine=engine)
            >>> query_builder = (
            ...        query_builder.where(T_("Organization.active") == V_("true"))
            ...        .where(T_("Organization.meta.lastUpdated", "2010-05-28T05:35:56+00:00"))
            ...        .sort(sort_("Organization.meta.lastUpdated", SortOrderType.DESC))
            ...        .limit(20)
            ...    )
            >>> query_result = query_builder(async_result=True)
            >>> result = query_result.fetchall()
            >>> result.header.total == 100
            True
            >>> len(result.body) == 20
            True
            >>> async for resource in query_result:
            ...     assert resource.resource_type == "Organization"
        
        
        * Free software: GNU General Public License v3
        * Documentation: https://fhirpath-guillotina.readthedocs.io.
        
        
        Credits
        -------
        
        This package skeleton was created with Cookiecutter_ and the `audreyr/cookiecutter-pypackage`_ project template.
        
        .. _Cookiecutter: https://github.com/audreyr/cookiecutter
        .. _`audreyr/cookiecutter-pypackage`: https://github.com/audreyr/cookiecutter-pypackage
        .. _`fhirpath`: https://pypi.org/project/fhirpath/
        
        
        =======
        History
        =======
        
        0.4.0 (2020-05-16)
        ------------------
        
        Improvements
        
        - supports ``fhirpath`` 0.6.1 or later version.
        
        - supports ``guillotina`` 5.3.x but not 6.x.x
        
        
        0.3.0 (2019-11-13)
        ------------------
        
        Improvements
        
        - supports ``https://pypi.org/project/fhirpath/`` 0.4.0 or later version.
        
        
        0.2.0 (2019-10-10)
        ------------------
        
        - Full (almost) featured `FHIR Search R4 <https://www.hl7.org/fhir/R4/search.html>`_ supports.
        
        
        0.1.0 (2019-08-24)
        ------------------
        
        * First release on PyPI. [nazrulworld]
        
Keywords: fhirpath guillotina hl7 fhir fhirpath
Platform: UNKNOWN
Classifier: Development Status :: 4 - Beta
Classifier: License :: OSI Approved :: GNU General Public License v3 (GPLv3)
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Healthcare Industry
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Requires-Python: >=3.7
Provides-Extra: test
Provides-Extra: travis
Provides-Extra: docs
