(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],p=0,m=[];p<i.length;p++)s=i[p],a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"02a6":function(e,t,n){"use strict";var r=n("68c2"),a=n.n(r);a.a},"11ca":function(e,t,n){"use strict";var r=n("fcb2"),a=n.n(r);a.a},"1e66":function(e,t,n){},2395:function(e,t,n){},"288a":function(e,t,n){},"2e50":function(e,t,n){"use strict";var r=n("6e71"),a=n.n(r);a.a},"34b8":function(e,t,n){},3816:function(e,t,n){},4401:function(e,t,n){},"4fde":function(e,t,n){"use strict";var r=n("7ce0"),a=n.n(r);a.a},5998:function(e,t,n){},"5b24":function(e,t,n){},6524:function(e,t,n){"use strict";var r=n("3816"),a=n.n(r);a.a},"68c2":function(e,t,n){},"693f":function(e,t,n){"use strict";var r=n("c611"),a=n.n(r);a.a},"6e71":function(e,t,n){},"6eeb":function(e,t,n){},7191:function(e,t,n){"use strict";var r=n("34b8"),a=n.n(r);a.a},"7c07":function(e,t,n){"use strict";var r=n("1e66"),a=n.n(r);a.a},"7c0d":function(e,t,n){},"7c55":function(e,t,n){"use strict";var r=n("2395"),a=n.n(r);a.a},"7ce0":function(e,t,n){},"7d51":function(e,t,n){"use strict";var r=n("6eeb"),a=n.n(r);a.a},"7dd9":function(e,t,n){"use strict";var r=n("7c0d"),a=n.n(r);a.a},"94b5":function(e,t,n){"use strict";var r=n("5998"),a=n.n(r);a.a},"965b":function(e,t,n){"use strict";var r=n("288a"),a=n.n(r);a.a},"9b72":function(e,t,n){},adb5:function(e,t,n){"use strict";var r=n("9b72"),a=n.n(r);a.a},afbe:function(e,t,n){"use strict";var r=n("5b24"),a=n.n(r);a.a},b45b:function(e,t,n){},bb13:function(e,t,n){"use strict";var r=n("c9dd"),a=n.n(r);a.a},bd1b:function(e,t,n){"use strict";var r=n("4401"),a=n.n(r);a.a},c611:function(e,t,n){},c9dd:function(e,t,n){},cd0d:function(e,t,n){"use strict";var r=n("b45b"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{dark_mode:e.darkMode,light_mode:!e.darkMode},attrs:{id:"app"}},[n("router-view"),n("MessagePopup"),e.showAboutModal?n("AboutModal"):e._e()],1)},o=[],s=(n("96cf"),n("3b8d")),i=n("bc3a"),c=n.n(i),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:e.hideAboutModal}},[n("h1",[e._v("About")]),n("p",[e._v("Thanks for using Piccolo Admin.")]),n("p",[e._v("Version "+e._s(e.meta.piccolo_admin_version))])])},l=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"overlay"}},[n("div",{staticClass:"modal opaque"},[n("p",{staticClass:"close"},[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)]),e._t("default")],2)])},m=[],d={},f=d,h=(n("7d51"),n("2877")),v=Object(h["a"])(f,p,m,!1,null,"5474e6b6",null),b=v.exports,w={components:{Modal:b},computed:{meta:function(){return this.$store.state.aboutModal.meta}},methods:{hideAboutModal:function(){this.$store.commit("updateShowAboutModal",!1)}},created:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$store.dispatch("fetchMeta");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.hideAboutModal();case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()},g=w,_=Object(h["a"])(g,u,l,!1,null,null,null),R=_.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{attrs:{id:"message_popup"}},[n("p",{staticClass:"message"},[e._v(e._s(e.message))]),n("p",{staticClass:"close"},[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.visible=!1}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])]):e._e()},x=[],y=r["a"].extend({data:function(){return{visible:!1,timeLastAppeared:0}},computed:{message:function(){return this.apiResponseMessage?this.apiResponseMessage.contents:"-"},apiResponseMessage:function(){return this.$store.state.apiResponseMessage}},methods:{getTime:function(){return(new Date).getTime()}},watch:{visible:function(){this.timeLastAppeared=this.getTime()},apiResponseMessage:function(){var e=this;this.visible=!0;var t=this;setTimeout((function(){var n=e.getTime();n-t.timeLastAppeared>=3e3&&(t.visible=!1)}),3e3)}}}),k=y,$=(n("6524"),Object(h["a"])(k,N,x,!1,null,null,null)),S=$.exports,j=r["a"].extend({components:{AboutModal:R,MessagePopup:S},computed:{darkMode:function(){return this.$store.state.darkMode},showAboutModal:function(){return this.$store.state.aboutModal.showAboutModal}},created:function(){var e=JSON.parse(localStorage.getItem("darkMode"));null===e&&(e=!0),this.$store.commit("updateDarkMode",e)},beforeCreate:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,c.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&401==e.response.status){console.log("Login required");var n=t.$route.path;"/login"!==n&&setTimeout((function(){t.$router.push({name:"login",query:{nextURL:n}})}))}return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&405==e.response.status){console.log("Method not allowed");var n={contents:"Method not supported - running in read only mode.",type:"error"};t.$store.commit("updateApiResponseMessage",n)}return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&404==e.response.status&&(console.log("Page not found"),alert("Page not found"),t.$router.push({name:"home"})),Promise.reject(e)})),e.next=6,c.a.get("./api/user/");case 6:n=e.sent,this.$store.commit("updateUser",n.data);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),O=j,D=(n("7c55"),Object(h["a"])(O,a,o,!1,null,null,null)),M=D.exports,C=n("8c4f"),F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DetailViewBase",[e.schema?n("AddRowForm",{attrs:{schema:e.schema,tableName:e.tableName}}):e._e()],1)},P=[],T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Add "+e._s(e.tableName))]),n("pre",[e._v(e._s(e.errors))]),e.defaults?n("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("RowForm",{attrs:{row:e.defaults,schema:e.schema}}),n("button",[e._v("Create")])],1):e._e()])},A=[],E=(n("ac4d"),n("8a81"),n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.schema.properties,(function(t){return n("div",{key:t.title},[t.foreign_key?[n("label",[e._v(" "+e._s(t.title)+" "),e.isFilter?e._e():n("router-link",{staticClass:"add",attrs:{to:{name:"addRow",params:{tableName:t.to}},target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"plus"}})],1),e.isFilter?e._e():n("router-link",{staticClass:"add",attrs:{to:{name:"editRow",params:{tableName:t.to,rowID:e.getKeySelectID(t.title)}},target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1)],1),n("KeySelect",{attrs:{fieldName:t.title.toLowerCase(),isFilter:e.isFilter,isNullable:t.nullable,tableName:t.to,value:e.getValue(t.title)},on:{valueChanged:function(n){return e.keySelectChanged(t.title,n)}}})]:[n("InputField",{key:t.title,attrs:{format:t.format,isFilter:e.isFilter,isNullable:t.nullable,title:t.title,type:t.type||t.anyOf[0].type,value:e.getValue(t.title)}})]],2)})),0)}),B=[],I=(n("28a5"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],attrs:{name:e.fieldName},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedValue=t.target.multiple?n:n[0]},function(t){return e.$emit("valueChanged",e.selectedValue)}]}},[e.isFilter?n("option",{attrs:{value:"all"}},[e._v("All")]):e._e(),e.isNullable?n("option",{attrs:{value:"null"}},[e._v("Null")]):e._e(),e._l(e.ids,(function(t,r){return n("option",{key:r,domProps:{selected:e.value==r,value:r}},[e._v(e._s(t))])}))],2)}),L=[],q={props:{fieldName:String,tableName:String,value:void 0,isFilter:{type:Boolean,default:!1},isNullable:{type:Boolean,default:!1}},data:function(){return{ids:[],selectedValue:void 0}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchIds",this.tableName);case 2:t=e.sent,this.ids=t.data,this.selectedValue=this.value;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},V=q,z=Object(h["a"])(V,I,L,!1,null,null,null),U=z.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",[e._v(e._s(e.title))]),"integer"==e.type?[e.isFilter?n("OperatorField",{attrs:{fieldName:e.getFieldName(e.title)}}):e._e(),n("input",{attrs:{step:"1",type:"number",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.value}})]:e._e(),"string"==e.type?["date-time"==e.format?[e.isFilter?n("OperatorField",{attrs:{fieldName:e.title.toLowerCase()}}):e._e(),n("input",{staticClass:"datetime",attrs:{autocomplete:"off",type:"text",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.value}})]:n("input",{attrs:{type:"text",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.value}})]:e._e(),"boolean"==e.type?[n("select",{attrs:{name:e.getFieldName(e.title)}},[e.isFilter?n("option",{attrs:{value:"all"},domProps:{selected:"all"==e.value}},[e._v("All")]):e._e(),e.isNullable?n("option",{attrs:{value:"null"},domProps:{selected:null==e.value}},[e._v("Null")]):e._e(),n("option",{attrs:{value:"true"},domProps:{selected:1==e.value}},[e._v("True")]),n("option",{attrs:{value:"false"},domProps:{selected:0==e.value}},[e._v("False")])])]:e._e()],2)},H=[],J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{attrs:{name:e.fieldName+"__operator"}},e._l(e.operators,(function(t){return n("option",{key:t.label,domProps:{selected:"e"==t.value,value:t.value}},[e._v(e._s(t.label))])})),0)},G=[],W={props:{fieldName:String},data:function(){return{operators:[{label:"Less Than",value:"lt"},{label:"Less Than or Equal To",value:"lte"},{label:"Equals",value:"e"},{label:"Greater Than or Equal To",value:"gte"},{label:"Greater Than",value:"gt"}]}}},X=W,Q=Object(h["a"])(X,J,G,!1,null,null,null),Y=Q.exports,Z=n("cf06"),ee=n.n(Z),te={props:{title:String,type:String,value:void 0,format:String,isFilter:{type:Boolean,default:!0},isNullable:{type:Boolean,default:!1}},components:{OperatorField:Y},computed:{placeholder:function(){return this.isFilter?"All":""}},methods:{getFieldName:function(e){return e.toLowerCase().split(" ").join("_")}},mounted:function(){ee()(".datetime",{enableTime:!0})}},ne=te,re=Object(h["a"])(ne,K,H,!1,null,null,null),ae=re.exports,oe=r["a"].extend({props:{row:Object,schema:Object,isFilter:{type:Boolean,default:!1}},components:{InputField:ae,KeySelect:U},data:function(){return{keySelectIDs:{}}},methods:{getValue:function(e){var t=this.row?this.row[e.toLowerCase().split(" ").join("_")]:void 0;return t},getKeySelectID:function(e){return this.keySelectIDs[e]||this.getValue(e)},keySelectChanged:function(e,t){console.log("".concat(e," = ").concat(t)),r["a"].set(this.keySelectIDs,e,t)}}}),se=oe,ie=(n("2e50"),Object(h["a"])(se,E,B,!1,null,"1c4dc616",null)),ce=ie.exports,ue={props:{tableName:String,schema:Object},components:{RowForm:ce},data:function(){return{defaults:{},errors:""}},methods:{submitForm:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,i,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(console.log("I was pressed"),n=new FormData(t.target),r={},a=!0,o=!1,s=void 0,e.prev=6,i=n.entries()[Symbol.iterator]();!(a=(c=i.next()).done);a=!0)u=c.value,r[u[0]]=u[1];e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),o=!0,s=e.t0;case 14:e.prev=14,e.prev=15,a||null==i.return||i.return();case 17:if(e.prev=17,!o){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return e.prev=22,e.next=25,this.$store.dispatch("createRow",{tableName:this.tableName,data:r});case 25:e.sent,e.next=32;break;case 28:return e.prev=28,e.t1=e["catch"](22),this.errors=e.t1.response.data,e.abrupt("return");case 32:l={contents:"Successfully added row",type:"success"},this.$store.commit("updateApiResponseMessage",l),this.$emit("addedRow"),this.$emit("close");case 36:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21],[22,28]])})));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("getNew",this.tableName);case 2:t=e.sent,this.defaults=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},le=ue,pe=(n("693f"),Object(h["a"])(le,T,A,!1,null,"dfd5a6d4",null)),me=pe.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavBar"),n("div",{staticClass:"inner"},[n("BackButton"),e._t("default")],2)],1)},fe=[],he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e.showBackButton?n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$router.go(-1)}}},[n("font-awesome-icon",{attrs:{icon:"angle-left"}}),e._v("Back ")],1):e._e()])},ve=[],be={computed:{showBackButton:function(){return window.history.length>1}}},we=be,ge=(n("94b5"),Object(h["a"])(we,he,ve,!1,null,"1ee046e2",null)),_e=ge.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"nav"}},[n("span",{attrs:{id:"burger_menu"}},[n("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showSidebar=!e.showSidebar}}},[n("font-awesome-icon",{attrs:{icon:"bars"}})],1)]),n("h1",[n("router-link",{attrs:{to:"/"}},[n("font-awesome-icon",{attrs:{icon:"tools"}}),e._v("Piccolo Admin ")],1)],1),n("ul",[n("li",[n("a",{attrs:{href:"#",id:"user"},on:{click:function(t){t.preventDefault(),e.showDropdown=!e.showDropdown}}},[n("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(e.username)+" "),e.showDropdown?n("font-awesome-icon",{attrs:{icon:"angle-up"}}):e._e(),e.showDropdown?e._e():n("font-awesome-icon",{attrs:{icon:"angle-down"}}),e.showDropdown?n("DropDownMenu"):e._e()],1)])])]),e.showSidebar?n("SidebarOverlay"):e._e()],1)},Ne=[],xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{attrs:{id:"drop_down_menu"}},[n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout(t)}}},[n("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),e._v("Log out ")],1)]),e.darkMode?n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateDarkMode(!1)}}},[n("font-awesome-icon",{attrs:{icon:"sun"}}),e._v("Light Mode ")],1)]):n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateDarkMode(!0)}}},[n("font-awesome-icon",{attrs:{icon:"moon"}}),e._v("Dark Mode ")],1)]),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showAboutModal(t)}}},[n("font-awesome-icon",{attrs:{icon:"info-circle"}}),e._v("About ")],1)])])},ye=[],ke=r["a"].extend({computed:{darkMode:function(){return this.$store.state.darkMode}},methods:{updateDarkMode:function(e){this.$store.commit("updateDarkMode",e)},showAboutModal:function(){this.$store.commit("updateShowAboutModal",!0)},logout:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to logout?")){e.next=12;break}return console.log("Logging out"),e.prev=2,e.next=5,c.a.post("./api/logout/");case 5:this.$router.push({name:"login"}),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log("Logout failed"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,8]])})));function t(){return e.apply(this,arguments)}return t}()}}),$e=ke,Se=(n("adb5"),Object(h["a"])($e,xe,ye,!1,null,"180f0bf4",null)),je=Se.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"opaque",attrs:{id:"sidebar_overlay"}},[n("SidebarNav")],1)},De=[],Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("p",{staticClass:"opaque"},[n("router-link",{staticClass:"subtle",attrs:{to:"/"}},[n("font-awesome-icon",{attrs:{icon:"home"}}),e._v("Home ")],1)],1),n("p",{staticClass:"opaque"},[n("font-awesome-icon",{attrs:{icon:"table"}}),e._v("Tables "),n("span",{staticStyle:{float:"right"}},[n("font-awesome-icon",{attrs:{icon:"angle-down"}})],1)],1),n("TableNav")],1)},Ce=[],Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.tableNames,(function(t){return n("li",{key:t},[n("router-link",{staticClass:"subtle",class:{active:e.isActive(t)},attrs:{to:{name:"rowListing",params:{tableName:t}}}},[n("font-awesome-icon",{attrs:{icon:"level-up-alt"}}),e._v(" "+e._s(e._f("readable")(t))+" ")],1)],1)})),0)},Pe=[],Te=r["a"].extend({computed:{tableNames:function(){return this.$store.state.tableNames},currentTableName:function(){return this.$store.state.currentTableName}},methods:{showListing:function(e){this.$store.commit("updateCurrentTablename",e),this.$router.push({name:"rowListing",params:{tableName:e}})},isActive:function(e){return this.currentTableName===e}},filters:{readable:function(e){return e.split("_").join(" ")}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchTableNames");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),Ae=Te,Ee=(n("02a6"),Object(h["a"])(Ae,Fe,Pe,!1,null,"0f263739",null)),Be=Ee.exports,Ie=r["a"].extend({components:{TableNav:Be}}),Le=Ie,qe=(n("7dd9"),Object(h["a"])(Le,Me,Ce,!1,null,null,null)),Ve=qe.exports,ze={components:{SidebarNav:Ve}},Ue=ze,Ke=(n("afbe"),Object(h["a"])(Ue,Oe,De,!1,null,null,null)),He=Ke.exports,Je=r["a"].extend({data:function(){return{showSidebar:!1,showDropdown:!1}},computed:{tableName:function(){return this.$store.state.currentTableName},username:function(){var e=this.$store.state.user;return e?e.username:"Unknown"}},components:{SidebarOverlay:He,DropDownMenu:je}}),Ge=Je,We=(n("7191"),Object(h["a"])(Ge,Re,Ne,!1,null,null,null)),Xe=We.exports,Qe=r["a"].extend({components:{BackButton:_e,NavBar:Xe}}),Ye=Qe,Ze=(n("11ca"),Object(h["a"])(Ye,de,fe,!1,null,"b81351ba",null)),et=Ze.exports,tt=r["a"].extend({props:["tableName"],components:{AddRowForm:me,DetailViewBase:et},computed:{schema:function(){return this.$store.state.schema}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("updateCurrentTablename",this.tableName),e.next=3,this.$store.dispatch("fetchSchema",this.tableName);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),nt=tt,rt=Object(h["a"])(nt,F,P,!1,null,"24d41c24",null),at=rt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DetailViewBase",[n("EditRowForm",{attrs:{rowID:e.rowID,tableName:e.tableName}})],1)},st=[],it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.schema?n("div",[n("h1",[e._v("Edit "+e._s(e.tableName))]),n("pre",[e._v(e._s(e.errors))]),n("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("RowForm",{attrs:{row:e.selectedRow,schema:e.schema}}),n("button",[e._v("Save")])],1),n("div",{staticClass:"action_wrapper"},[n("ReferencingTables",{attrs:{rowID:e.rowID,tableName:e.tableName}}),n("p",{attrs:{id:"delete"}},[n("DeleteButton",{staticClass:"subtle",on:{triggered:e.deleteRow}})],1)],1)]):e._e()},ct=[],ut=(n("5df3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.references.length>0?n("div",[n("p",{staticClass:"referencing_title"},[n("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showReferencing=!e.showReferencing}}},[e.showReferencing?n("span",[n("font-awesome-icon",{attrs:{icon:"angle-down"}}),e._v("Hide ")],1):n("span",[n("font-awesome-icon",{attrs:{icon:"angle-right"}}),e._v("Show ")],1),e._v(" Referencing Tables ")])]),e.showReferencing?n("ul",{staticClass:"related_tables"},e._l(e.references,(function(t){return n("li",{key:t.tableName+t.columnName},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.clickedReference(t)}}},[n("span",{staticClass:"table"},[e._v(e._s(t.tableName))]),e._v(" ("+e._s(t.columnName)+" column) "),n("font-awesome-icon",{attrs:{icon:"external-link-alt"}})],1)])})),0):e._e()]):e._e()}),lt=[],pt=r["a"].extend({props:["tableName","rowID"],data:function(){return{references:[],showReferencing:!1}},methods:{fetchTableReferences:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchTableReferences",this.tableName);case 2:t=e.sent,this.references=t.data.references;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clickedReference:function(e){var t=e.columnName,n={};n[t]=this.rowID;var r={name:"rowListing",params:{tableName:e.tableName},query:n},a=this.$router.resolve(r).href;window.open("".concat(document.location.origin).concat(document.location.pathname).concat(a),"_blank")}},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchTableReferences();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),mt=pt,dt=(n("7c07"),Object(h["a"])(mt,ut,lt,!1,null,"507039a7",null)),ft=dt.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"#",id:"delete",title:"Delete Row"},on:{click:function(t){return t.preventDefault(),e.$emit("triggered")}}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)},vt=[],bt={},wt=bt,gt=(n("bd1b"),Object(h["a"])(wt,ht,vt,!1,null,"6c2d7b5a",null)),_t=gt.exports,Rt=r["a"].extend({props:["tableName","rowID"],components:{DeleteButton:_t,RowForm:ce,ReferencingTables:ft},data:function(){return{errors:""}},computed:{schema:function(){return this.$store.state.schema},selectedRow:function(){return this.$store.state.selectedRow}},methods:{submitForm:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,i,c,u,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(console.log("Submitting..."),n=new FormData(t.target),r={},a=!0,o=!1,s=void 0,e.prev=6,i=n.entries()[Symbol.iterator]();!(a=(c=i.next()).done);a=!0)u=c.value,r[u[0].split(" ").join("_")]=u[1];e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),o=!0,s=e.t0;case 14:e.prev=14,e.prev=15,a||null==i.return||i.return();case 17:if(e.prev=17,!o){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:return l={tableName:this.tableName,rowID:this.rowID,data:r},e.prev=23,e.next=26,this.$store.dispatch("updateRow",l);case 26:e.next=32;break;case 28:return e.prev=28,e.t1=e["catch"](23),this.errors=e.t1.response.data,e.abrupt("return");case 32:this.errors="";case 33:case"end":return e.stop()}}),e,this,[[6,10,14,22],[15,,17,21],[23,28]])})));function t(t){return e.apply(this,arguments)}return t}(),deleteRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this row?")){e.next=6;break}return t={tableName:this.tableName,rowID:this.rowID},e.next=4,this.$store.dispatch("deleteRow",t);case 4:alert("Successfully deleted row"),this.$router.push({name:"rowListing",params:{tableName:this.tableName}});case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("updateCurrentTablename",this.tableName),e.next=3,this.$store.dispatch("fetchSingleRow",{tableName:this.tableName,rowID:this.rowID});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},watch:{"$route.params.tableName":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.fetchData(),this.$store.dispatch("fetchSchema",this.tableName)]);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),"$route.params.rowID":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.fetchData(),this.$store.dispatch("fetchSchema",this.tableName)]);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),Nt=Rt,xt=(n("cd0d"),Object(h["a"])(Nt,it,ct,!1,null,"64476020",null)),yt=xt.exports,kt=r["a"].extend({props:["tableName","rowID"],components:{EditRowForm:yt,DetailViewBase:et}}),$t=kt,St=Object(h["a"])($t,ot,st,!1,null,"43d5c64e",null),jt=St.exports,Ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseView",[n("div",{staticClass:"welcome"},[n("h1",[e._v("Welcome to Piccolo Admin")]),n("p",[e._v("Select one of the tables in the sidebar to get started.")])])])},Dt=[],Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base_view"},[n("NavBar"),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"sidebar_wrapper"},[n("SidebarNav")],1),e._t("default")],2)],1)},Ct=[],Ft=r["a"].extend({components:{NavBar:Xe,SidebarNav:Ve}}),Pt=Ft,Tt=(n("e869"),Object(h["a"])(Pt,Mt,Ct,!1,null,null,null)),At=Tt.exports,Et={components:{BaseView:At},mounted:function(){this.$store.commit("updateCurrentTablename","")}},Bt=Et,It=(n("df73"),Object(h["a"])(Bt,Ot,Dt,!1,null,"564d2c13",null)),Lt=It.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"inner"},[n("h1",[e._v("Login")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("label",[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("label",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",[e._v("Login")])])])])},Vt=[],zt={data:function(){return{username:"",password:""}},methods:{login:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Logging in"),e.prev=1,e.next=4,c.a.post("./api/login/",{username:this.username,password:this.password});case 4:e.sent,e.next=13;break;case 7:return e.prev=7,e.t0=e["catch"](1),console.log("Request failed"),console.log(e.t0.response),this.$store.commit("updateApiResponseMessage",{contents:"Problem logging in",type:"error"}),e.abrupt("return");case 13:return e.next=15,c.a.get("./api/user/");case 15:t=e.sent,this.$store.commit("updateUser",t.data),n=this.$route.query.nextURL,n?this.$router.push({path:n}):this.$router.push({name:"home"});case 19:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(){return e.apply(this,arguments)}return t}()}},Ut=zt,Kt=(n("4fde"),Object(h["a"])(Ut,qt,Vt,!1,null,null,null)),Ht=Kt.exports,Jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseView",[void 0!=e.schema?[n("div",{staticClass:"left_column"},[n("div",{staticClass:"title_bar"},[n("h1",[e._v(e._s(e._f("readable")(e.tableName)))]),n("ul",[n("li",[n("router-link",{staticClass:"subtle",attrs:{to:{name:"addRow",params:{tableName:e.tableName}}},on:{click:function(t){t.preventDefault(),e.showAddRow=!0}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v("Add Row ")],1)],1),n("li",[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showSort=!e.showSort}}},[n("font-awesome-icon",{attrs:{icon:"sort"}}),e._v("Sort ")],1)]),n("li",[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showFilter=!e.showFilter}}},[n("font-awesome-icon",{attrs:{icon:"filter"}}),e._v(" "+e._s(e.showFilter?"Hide":"Show")+" Filters ")],1)])])]),0==e.rows.length?n("p",[e._v("No results found")]):n("table",[n("tr",[e._l(e.cellNames,(function(t){return n("th",{key:t},[e._v(e._s(e.schema.properties[t]?e.schema.properties[t].title:t))])})),n("th",[e._v("Actions")])],2),e._l(e.rows,(function(t){return n("tr",{key:t.id},[e._l(e.cellNames,(function(r){return n("td",{key:r},["id"==r?n("span",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"editRow",params:{tableName:e.tableName,rowID:t[r]}}}},[e._v(e._s(t[r]))])],1):e.isForeignKey(r)&null!==t[r]?n("span",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"editRow",params:{tableName:e.getTableName(r),rowID:t[r]}}}},[e._v(e._s(t[r+"_readable"]))])],1):n("span",[e._v(e._s(e._f("abbreviate")(t[r])))])])})),n("td",{staticClass:"snug"},[n("ul",[n("li",[n("router-link",{staticClass:"subtle",attrs:{to:{name:"editRow",params:{tableName:e.tableName,rowID:t.id}},title:"Edit Row"}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1)],1),n("li",[n("DeleteButton",{staticClass:"subtle delete",on:{triggered:function(n){return e.deleteRow(t.id)}}})],1)])])],2)}))],2),n("p",{attrs:{id:"result_count"}},[e._v("Showing "+e._s(e.rows.length)+" result(s)")]),n("Pagination",{attrs:{tableName:e.tableName}})],1),e.showFilter?n("div",{staticClass:"right_column"},[n("RowFilter")],1):e._e(),e.showAddRow?n("AddRowModal",{attrs:{schema:e.schema,tableName:e.tableName},on:{addedRow:e.fetchRows,close:function(t){e.showAddRow=!1}}}):e._e(),e.showSort?n("RowSortModal",{attrs:{schema:e.schema,tableName:e.tableName},on:{close:function(t){e.showSort=!1}}}):e._e()]:e._e()],2)},Gt=[],Wt=(n("7f7f"),n("aef6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:function(t){return e.$emit("close")}}},[n("AddRowForm",{attrs:{schema:e.schema,tableName:e.tableName},on:{close:function(t){return e.$emit("close")}}})],1)}),Xt=[],Qt={props:{tableName:String,schema:Object},components:{Modal:b,AddRowForm:me}},Yt=Qt,Zt=Object(h["a"])(Yt,Wt,Xt,!1,null,"47a7d63d",null),en=Zt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{attrs:{id:"pagination"}},e._l(e.pageCount,(function(t){return n("li",{key:t},[n("a",{staticClass:"subtle",class:{active:t===e.currentPageNumber},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.changePage(t)}}},[e._v(e._s(t))])])})),0)},nn=[],rn={props:{tableName:String},computed:{rowCount:function(){return this.$store.state.rowCount||0},pageSize:function(){return this.$store.state.pageSize||1},pageCount:function(){var e=Math.ceil(this.rowCount/this.pageSize);return e<1?1:e},currentTableName:function(){return this.$store.state.currentTableName},filterParams:function(){return this.$store.state.filterParams},currentPageNumber:function(){return this.$store.state.currentPageNumber}},methods:{changePage:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Navigating to "+t),this.$store.commit("updateCurrentPageNumber",t),e.next=4,this.$store.dispatch("fetchRows");case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}},an=rn,on=(n("bb13"),Object(h["a"])(an,tn,nn,!1,null,"4dea4ed3",null)),sn=on.exports,cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Filter")]),n("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("RowForm",{attrs:{isFilter:!0,schema:e.schema}}),n("button",[e._v("Apply")])],1),n("button",{on:{click:function(t){return t.preventDefault(),e.clearFilters(t)}}},[e._v("Clear filters")])])},un=[],ln=r["a"].extend({components:{RowForm:ce},computed:{schema:function(){return this.$store.state.schema},tableName:function(){return this.$store.state.currentTableName}},methods:{showSuccess:function(e){var t={contents:e,type:"success"};this.$store.commit("updateApiResponseMessage",t)},submitForm:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=new FormData(t.target),r={},a=!0,o=!1,s=void 0,e.prev=5,i=n.entries()[Symbol.iterator]();!(a=(c=i.next()).done);a=!0)u=c.value,u[1]&&"all"!=u[1]&&(r[u[0].split(" ").join("_")]=u[1]);e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](5),o=!0,s=e.t0;case 13:e.prev=13,e.prev=14,a||null==i.return||i.return();case 16:if(e.prev=16,!o){e.next=19;break}throw s;case 19:return e.finish(16);case 20:return e.finish(13);case 21:return this.$store.commit("updateFilterParams",r),e.prev=22,e.next=25,this.$store.dispatch("fetchRows");case 25:e.next=30;break;case 27:return e.prev=27,e.t1=e["catch"](22),e.abrupt("return");case 30:this.showSuccess("Successfully applied filter");case 31:case"end":return e.stop()}}),e,this,[[5,9,13,21],[14,,16,20],[22,27]])})));function t(t){return e.apply(this,arguments)}return t}(),clearFilters:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Clearing ..."),t=this.$refs.form,t.reset(),this.$store.commit("updateFilterParams",{}),e.prev=4,e.next=7,this.$store.dispatch("fetchRows");case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](4),e.abrupt("return");case 12:this.showSuccess("Successfully cleared filters");case 13:case"end":return e.stop()}}),e,this,[[4,9]])})));function t(){return e.apply(this,arguments)}return t}()}}),pn=ln,mn=Object(h["a"])(pn,cn,un,!1,null,"7b14efc0",null),dn=mn.exports,fn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:function(t){return e.$emit("close")}}},[e.schema?[n("p",[e._v("Sort by:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.propertyName,expression:"propertyName"}],attrs:{name:"property"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.propertyName=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"id"}},[e._v("id")]),e._l(e.schema.properties,(function(t,r){return n("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2),n("label",[e._v("Ascending")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ascending,expression:"ascending"}],attrs:{name:"ascending",type:"radio",value:"ascending"},domProps:{checked:e._q(e.ascending,"ascending")},on:{change:function(t){e.ascending="ascending"}}}),n("label",[e._v("Descending")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ascending,expression:"ascending"}],attrs:{name:"ascending",type:"radio",value:"descending"},domProps:{checked:e._q(e.ascending,"descending")},on:{change:function(t){e.ascending="descending"}}}),n("button",{on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v("Sort")])]:e._e()],2)},hn=[],vn={props:{schema:Object,tableName:String},data:function(){return{ascending:"descending",propertyName:"id"}},components:{Modal:b},methods:{save:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={property:this.propertyName,ascending:"ascending"==this.ascending},this.$store.commit("updateSortBy",t),e.next=4,this.$store.dispatch("fetchRows");case 4:this.$emit("close");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this.$store.state.sortBy;e&&(this.ascending=e.ascending?"ascending":"descending",this.propertyName=e.property)}},bn=vn,wn=Object(h["a"])(bn,fn,hn,!1,null,null,null),gn=wn.exports,_n=r["a"].extend({props:["tableName"],data:function(){return{showAddRow:!1,showFilter:!1,showSort:!1}},components:{AddRowModal:en,BaseView:At,DeleteButton:_t,Pagination:sn,RowFilter:dn,RowSortModal:gn,TableNav:Be},computed:{cellNames:function(){var e=[];for(var t in this.rows[0])t.endsWith("_readable")||e.push(t);return e},rows:function(){return this.$store.state.rows},schema:function(){return this.$store.state.schema}},filters:{abbreviate:function(e){if(null===e)return null;var t=String(e);return t.length>100?t.substring(0,80)+"...":t},readable:function(e){return e.split("_").join(" ")}},methods:{isForeignKey:function(e){var t=this.schema.properties[e];return void 0!=t&&t.foreign_key},getTableName:function(e){return this.schema.properties[e].to},deleteRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete row ".concat(t,"?"))){e.next=6;break}return console.log("Deleting!"),e.next=4,this.$store.dispatch("deleteRow",{tableName:this.tableName,rowID:t});case 4:return e.next=6,this.fetchRows();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),fetchRows:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchRows");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fetchSchema:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("fetchSchema",this.tableName);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},watch:{"$route.params.tableName":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("reset"),this.$store.commit("updateCurrentTablename",this.tableName),e.next=4,Promise.all([this.fetchRows(),this.fetchSchema()]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),"$route.query":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("updateFilterParams",this.$router.currentRoute.query),e.next=3,this.fetchRows();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("updateCurrentTablename",this.tableName),this.$store.commit("updateFilterParams",this.$router.currentRoute.query),e.next=4,Promise.all([this.fetchRows(),this.fetchSchema()]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),Rn=_n,Nn=(n("965b"),Object(h["a"])(Rn,Jt,Gt,!1,null,null,null)),xn=Nn.exports;r["a"].use(C["a"]);var yn=new C["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:Lt},{path:"/login/",name:"login",component:Ht},{path:"/:tableName/",name:"rowListing",component:xn,props:!0},{path:"/:tableName/add/",name:"addRow",component:at,props:!0},{path:"/:tableName/:rowID/",name:"editRow",component:jt,props:!0}]}),kn=n("2f62"),$n="./api/",Sn={state:{showAboutModal:!1,meta:{}},mutations:{updateShowAboutModal:function(e,t){e.showAboutModal=t},updateMeta:function(e,t){e.meta=t}},actions:{fetchMeta:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat($n,"meta/"));case 2:n=e.sent,this.commit("updateMeta",n.data);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}};r["a"].use(kn["a"]);var jn="./api/",On=new kn["a"].Store({modules:{aboutModal:Sn},state:{apiResponseMessage:null,currentPageNumber:1,currentTableName:void 0,darkMode:!0,filterParams:{},pageSize:1,rowCount:0,rows:[],schema:void 0,selectedRow:void 0,sortBy:null,tableNames:[],user:void 0},mutations:{updateTableNames:function(e,t){e.tableNames=t},updateCurrentTablename:function(e,t){e.currentTableName=t},updateRows:function(e,t){e.rows=t},updateSelectedRow:function(e,t){e.selectedRow=t},updateSchema:function(e,t){e.schema=t},updateApiResponseMessage:function(e,t){e.apiResponseMessage=t},updateUser:function(e,t){e.user=t},updateSortBy:function(e,t){e.sortBy=t},reset:function(e){e.sortBy=null,e.filterParams={},e.currentPageNumber=1,e.rows=[]},updateFilterParams:function(e,t){e.filterParams=t},updateRowCount:function(e,t){e.rowCount=t},updatePageSize:function(e,t){e.pageSize=t},updateCurrentPageNumber:function(e,t){e.currentPageNumber=t},updateDarkMode:function(e,t){e.darkMode=t,localStorage.setItem("darkMode",String(t))}},actions:{fetchTableNames:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(jn,"tables/"));case 2:n=e.sent,t.commit("updateTableNames",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchRows:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,s,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state.filterParams,r=t.state.currentTableName,a=t.state.sortBy,a&&(o=a.ascending?"":"-",n["__order"]=o+a.property),e.next=6,c.a.get("".concat(jn,"tables/").concat(r,"/count/"),{params:n});case 6:return s=e.sent,i=s.data,t.commit("updateRowCount",i.count),t.commit("updatePageSize",i.page_size),i.count<i.page_size&&t.commit("updateCurrentPageNumber",1),n["__page"]=t.state.currentPageNumber,e.prev=12,e.next=15,c.a.get("".concat(jn,"tables/").concat(r,"/?__readable=true"),{params:n});case 15:u=e.sent,t.commit("updateRows",u.data.rows),e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](12),console.log(e.t0.response),t.commit("updateApiResponseMessage",{contents:"Problem fetching ".concat(r," rows."),type:"error"});case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchTableReferences:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(jn,"tables/").concat(n,"/references/"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchIds:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(jn,"tables/").concat(n,"/ids/"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),getNew:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(jn,"tables/").concat(n,"/new/"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSingleRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(jn,"tables/").concat(n.tableName,"/").concat(n.rowID,"/"));case 2:return r=e.sent,t.commit("updateSelectedRow",r.data),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),fetchSchema:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(jn,"tables/").concat(n,"/schema/"));case 2:return r=e.sent,t.commit("updateSchema",r.data),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),createRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("".concat(jn,"tables/").concat(n.tableName,"/"),n.data);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.delete("".concat(jn,"tables/").concat(n.tableName,"/").concat(n.rowID,"/"));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}(),updateRow:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.put("".concat(jn,"tables/").concat(n.tableName,"/").concat(n.rowID,"/"),n.data);case 2:return r=e.sent,t.commit("updateApiResponseMessage",{contents:"Successfully saved row",type:"success"}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}}),Dn=n("ad3d"),Mn=n("ecee"),Cn=n("c074"),Fn=n("a78e"),Pn=n.n(Fn);Mn["c"].add(Cn["a"],Cn["b"],Cn["c"],Cn["d"],Cn["e"],Cn["f"],Cn["g"],Cn["h"],Cn["i"],Cn["j"],Cn["k"],Cn["l"],Cn["m"],Cn["n"],Cn["o"],Cn["p"],Cn["q"],Cn["r"],Cn["s"],Cn["t"],Cn["u"]),r["a"].component("font-awesome-icon",Dn["a"]),c.a.interceptors.request.use((function(e){if(-1!=["POST","PUT","DELETE"].indexOf(e.method.toUpperCase())){var t=Pn.a.get("csrftoken");e.headers["X-CSRFToken"]=t}return e})),r["a"].config.productionTip=!1,new r["a"]({router:yn,store:On,render:function(e){return e(M)}}).$mount("#app")},cee9:function(e,t,n){},df73:function(e,t,n){"use strict";var r=n("ed61"),a=n.n(r);a.a},e869:function(e,t,n){"use strict";var r=n("cee9"),a=n.n(r);a.a},ed61:function(e,t,n){},fcb2:function(e,t,n){}});
//# sourceMappingURL=app.a8906a8d.js.map