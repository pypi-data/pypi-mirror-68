
strategy: RenderedTemplateFileHash

testcases:
  - name: non_existing_target
    template: |
      from template!
    target: null
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_without_hash
    template: |
      from template!
    target: |
      from target!
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_with_current_hash
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111
    out: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_with_current_hash_but_different_commit
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/2222222222222222222222222222222222222222
    out: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/2222222222222222222222222222222222222222

  - name: existing_target_with_different_hash
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash 00000000
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_with_different_hash_dirty
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash 00000000
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111
    is_git_dirty: True
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From (dirty) https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: non_existing_target_python
    template: |
      from template!
    target: null
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111  # noqa
    config:
      line_comment_start: '#'
      max_line_length: 80
      max_line_linter_ignore_mark: '  # noqa'

  - name: non_existing_target_groovy
    template: |
      from template!
    target: null
    out: |
      from template!

      // Generated by https://github.com/rambler-digital-solutions/scaraplate
      // RenderedTemplateFileHash a211c05944823a78a4d63111a1ddfdec
      // From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111
    config:
      line_comment_start: '//'
