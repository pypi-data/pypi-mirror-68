(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/VqF":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graphs",function(){return n("OZ7s")}])},MwrP:function(e,t,n){var r=n("4uJK"),o=n("kkM+"),a=n("bvyN"),i=n("wxYD"),u=n("9y2L"),c=n("3ajY"),s=n("CbIe"),l=n("Qd2C"),p="[object Map]",d="[object Set]",f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||a(e)))return!e.length;var t=o(e);if(t==p||t==d)return!e.size;if(s(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},OZ7s:function(e,t,n){"use strict";n.r(t);var r,o=n("VtSi"),a=n.n(o),i=n("zygG"),u=n("zjfJ");function c(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(i)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}!function(e){e[e.Input=0]="Input",e[e.Output=1]="Output",e[e.Op=2]="Op"}(r||(r={}));var p,d=function(e,t){switch(e){case r.Op:return"".concat("opNode_").concat(t);case r.Input:case r.Output:return"".concat(t)}},f=function(e,t){return t.map((function(t,n){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{uid:d(e,n)})}))},h=function(e,t,n,r){var o=e[t]||{input:[],output:[]};o[n].push(r),e[t]=o},g=function(e){var t={nodes:[],edges:[]},n={nodes:[],edges:[]};return function(e,t){for(var n=function(){var e=Object(i.a)(o[r],2),n=e[0],a=e[1],u=a.input,c=a.output;u.forEach((function(e){c.forEach((function(r){t(n,e,r)}))}))},r=0,o=Object.entries(e);r<o.length;r++)n()}(e,(function(e,o,a){n.nodes.push({key:e,label:e,shape:"diamond",class:"output",type:r.Output}),n.edges.push([o,e]),n.edges.push([e,a]),t.edges.push([o,a])})),{briefLayer:t,detailLayer:n}},v=function(e){var t=function(e){if(!e)return function(){};var t=e.input.reduce((function(e,t,n){return e[d(r.Input,t.name)]=n,e}),{}),n=e.output.reduce((function(e,t,n){return e[d(r.Output,t.name)]=n,e}),{});return function(o,a){switch(o){case r.Input:var i=t[a];return void 0==i?void 0:e.input[i];case r.Output:var u=n[a];return void 0==u?void 0:e.output[u];case r.Op:var c=+a.replace("opNode_","");return e.node[c]}}}(e),n=f(r.Op,e?e.node:[]),o=function(e){return e.reduce((function(e,t){var n=t.uid;return(t.output||[]).forEach((function(t){return h(e,t,"input",n)})),(t.input||[]).forEach((function(t){return h(e,t,"output",n)})),e}),{})}(n),a=function(e,t){for(var n=[],o=[],a=function(){var e=Object(i.a)(c[u],2),a=e[0],s=e[1];if(0!==s.input.length)return"continue";var l=a.indexOf("@"),p=l>0?a.slice(0,l):a,d=t(r.Input,p);n.push({key:p,type:r.Input,label:"\nid: ".concat(d.name,"\ntype: ").concat(d.data_type,"\ndims: ").concat(d.shape.join(" \xd7 "),"\n"),shape:"rect",class:"input"}),s.output.forEach((function(e){return o.push([p,e])}))},u=0,c=Object.entries(e);u<c.length;u++)a();return{nodes:n,edges:o}}(o,t),u=function(e){for(var t=[],n=[],o=0,a=Object.entries(e);o<a.length;o++){var u=Object(i.a)(a[o],2),s=u[0],l=u[1];if(0===l.output.length){t.push({key:s,type:r.Output,label:s,shape:"diamond",class:"output"});var p,d=c(l.input);try{for(d.s();!(p=d.n()).done;){var f=p.value;n.push([s,f])}}catch(h){d.e(h)}finally{d.f()}}}return{nodes:t,edges:n}}(o),s=n.map((function(e){return{key:e.uid,type:r.Op,label:e.opType,shape:"rect",class:"operator"}})),l=g(o),p=l.briefLayer,v=l.detailLayer,m={nodes:s,edges:p.edges},w={nodes:m.nodes.concat(v.nodes),edges:v.edges};return{briefLayer:m,detailLayer:w,inputLayer:a,outputLayer:u,findNode:t}},m=n("9bu8"),w=n("ERkP"),y=n.n(w),b=n("r8eb"),O=n("j/s1"),j=y.a.createElement,S=(p={},Object(u.a)(p,r.Input,"input"),Object(u.a)(p,r.Output,"output"),Object(u.a)(p,r.Op,"operator"),p),x=Object(O.c)((function(e){return j("ul",{className:e.className},e.items.map((function(e){var t=e.key,n=e.value;return j("li",{key:t},t,": ",n)})))})).withConfig({displayName:"NodeInfo__PropertyList",componentId:"sc-1bpuids-0"})(["padding:0;list-style:none;color:",";li + li{margin-top:1em;}"],b.K),E=function(e){var t=Object(m.g)("graphs").t;if(!e.node)return j("p",null,t("graphs:click-node"));var n=e.node;switch(n.type){case r.Input:case r.Output:return j(x,{items:[{key:t("graphs:node-type"),value:S[n.type]},{key:t("graphs:node-name"),value:n.name},{key:t("graphs:node-data-shape"),value:n.shape},{key:t("graphs:node-data-type"),value:n.data_type}]});case r.Op:return j(x,{items:[{key:t("graphs:node-type"),value:S[n.type]},{key:t("graphs:input"),value:n.input},{key:t("graphs:op-type"),value:n.opType},{key:t("graphs:output"),value:n.output}]});case"unknown":return j(x,{items:[{key:t("graphs:node-type"),value:S[n.guessType]}]});default:return null}},k=n("QRo2"),A=n("wK9i"),C=n("1HTM"),P=n("xQut"),I=n("lXyp"),N=n("C34g"),L=n("MwrP"),T=n.n(L),D=n("Z2nJ"),_=n("O1Fn"),R=y.a.createElement;function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=function(){},G=O.c.section.withConfig({displayName:"graphs__AsideSection",componentId:"sc-1fvm2n1-0"})(["padding:",";"],Object(b.E)(20)),V=O.c.div.withConfig({displayName:"graphs__SubSection",componentId:"sc-1fvm2n1-1"})(["margin-bottom:",";"],Object(b.E)(30)),q=Object(O.c)(P.a).withConfig({displayName:"graphs__Button",componentId:"sc-1fvm2n1-2"})(["width:100%;text-transform:uppercase;& + &{margin-top:",";}"],Object(b.E)(20)),F=O.c.div.withConfig({displayName:"graphs__Empty",componentId:"sc-1fvm2n1-3"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(b.E)(20),Object(b.E)(150)),H=Object(O.c)(I.a).withConfig({displayName:"graphs__RangeSlider",componentId:"sc-1fvm2n1-4"})(["width:100%;"]),z=Object(O.c)("svg").withConfig({displayName:"graphs__GraphSvg",componentId:"sc-1fvm2n1-5"})(["width:100%;cursor:grab;&.grabbing{cursor:grabbing;}.node{cursor:pointer;.label-container{stroke-width:3px;stroke:#e6e6e6;&.rect{rx:10;ry:10;}}&.operator{.label-container{fill:#cdd9da;}}&.output{.label-container{stroke-dasharray:5,5;stroke:#e6e6e6;fill:#cad2d0;}}&.input{.label-container{fill:#d5d3d8;}}&.active{.label-container{stroke:#25c9ff;}}}.edgePath path.path{stroke:#333;stroke-width:1.5px;}"]),J=[n.e(8).then(n.bind(null,"Bou+")),Promise.all([n.e(6),n.e(8),n.e(10),n.e(14),n.e(28)]).then(n.t.bind(null,"P8n3",7))],Y=function(e){var t=Object(w.useState)(void 0),n=t[0],r=t[1],o=function(e){var t=Object(w.useState)({detail:!1,input:!1,output:!1}),n=t[0],r=t[1],o=Object(w.useMemo)((function(){return v(e)}),[e]);return{dagInfo:Object(w.useMemo)((function(){var e=o.inputLayer,t=o.outputLayer,r=o.briefLayer,a=o.detailLayer,i=o.findNode,u=n.detail?[a]:[r];return n.input&&u.push(e),n.output&&u.push(t),B({},u.reduce((function(e,t){var n=t.nodes,r=t.edges;return{nodes:e.nodes.concat(n),edges:e.edges.concat(r)}}),{nodes:[],edges:[]}),{findNode:i})}),[o,n]),displaySwitch:n,setDisplaySwitch:r}}(e),u=o.dagInfo,c=o.displaySwitch,s=o.setDisplaySwitch,l=Object(w.useState)((function(){return M})),p=l[0],d=l[1],f=Object(w.useState)((function(){return M})),h=f[0],g=f[1],m=Object(w.useState)(1),y=m[0],b=m[1],O=Object(w.useState)((function(){return M})),j=O[0],S=O[1];return Object(w.useEffect)((function(){Promise.all(J).then((function(e){var t=Object(i.a)(e,2),n=t[0],o=t[1].default;if(u.nodes.length&&u.edges.length){var c=new o.graphlib.Graph;c.setGraph({}).setDefaultEdgeLabel((function(){return{}})),u.nodes.forEach((function(e){return c.setNode(e.key,e)})),u.edges.forEach((function(e){return c.setEdge(e[0],e[1])}));var s=new o.render,l=n.select("svg"),p=l.select("svg g");s(p,c);var f=c.graph(),h=f.width,v=f.height;l.attr("height",Math.max(640,window.innerHeight+40));var m,w=n.zoom().scaleExtent([.1,4]).on("zoom",(function(){b(n.event.transform.k/1),p.attr("transform",n.event.transform)})).on("start",(function(){return l.classed("grabbing",!0)})).on("end",(function(){return l.classed("grabbing",!1)}));l.call(w),l.selectAll("g.node").on("click",(function(e){var t=e,n=c.node(t),o=n.type,a=n.elem;m&&m.classList.remove("active"),a.classList.add("active"),m=a;var i=u.findNode(o,t);r(i?B({},i,{type:o}):{type:"unknown",guessType:o,msg:t})}));var y=function(){var e;if(l){var t=null===(e=l.node())||void 0===e?void 0:e.parentElement;if(t){var r=t.getBoundingClientRect().width;l.call(w.transform,n.zoomIdentity.translate((r-1*(null!==h&&void 0!==h?h:0))/2,20).scale(1))}}};y(),g((function(){return y})),d((function(){var e=!1;return function(){var t,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e){r.next=2;break}return r.abrupt("return");case 2:if(e=!0,y(),t=l.node()){r.next=7;break}return r.abrupt("return");case 7:return n=+l.attr("height"),l.attr("height",(null!==v&&void 0!==v?v:0)+40),r.next=11,a.a.awrap(Object(D.saveSvgAsPng)(t,"graph.png"));case 11:l.attr("height",n),e=!1;case 13:case"end":return r.stop()}}),null,null,null,Promise)}})),S((function(){return function(e){w.scaleTo(l,1*e),b(e)}}))}}))}),[u]),{currentNode:n,displaySwitch:c,setDisplaySwitch:s,downloadImage:p,fitScreen:h,scale:y,setScale:j}},X=function(){var e=Object(m.g)(["graphs","common"]).t,t=Object(_.a)("/graphs/graph"),n=t.data,r=t.error,o=t.loading,a=Object(w.useMemo)((function(){return o||T()(null===n||void 0===n?void 0:n.data)?void 0:null===n||void 0===n?void 0:n.data}),[o,n]),i=Y(a),u=i.currentNode,c=i.downloadImage,s=i.fitScreen,l=i.scale,p=i.setScale,d=R(G,null,R(V,null,R(q,{rounded:!0,type:"primary",icon:"download",onClick:c},e("graphs:download-image")),R(q,{rounded:!0,type:"primary",icon:"revert",onClick:s},e("graphs:restore-image"))),R(V,null,R(A.a,{label:"".concat(e("graphs:scale"),":")},R(H,{min:.1,max:4,step:.1,value:l,onChange:p}))),R(V,null,R(A.a,{label:"".concat(e("graphs:node-info"),":")}),R(E,{node:u}))),f=Object(w.useMemo)((function(){return o?null:r?R(F,null,e("common:error")):a?R(z,null,R("g",null)):R(F,null,e("common:empty"))}),[o,r,a,e]);return R(y.a.Fragment,null,R(C.a,{url:"/graphs/graph"}),R(N.a,null,e("common:graphs")),R(k.a,{aside:d,loading:o},f))};X.getInitialProps=function(){return{namespacesRequired:["graphs","common"]}};t.default=X},Z2nJ:function(e,t,n){"use strict";var r;!function(){var n=t||{}||this||window;void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r),n.default=n;var o="http://www.w3.org/2000/xmlns/",a="http://www.w3.org/2000/svg",i=/url\(["']?(.+?)["']?\)/,u={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},c=function(e){return e instanceof HTMLElement||e instanceof SVGElement},s=function(e){if(!c(e))throw new Error("an HTMLElement or SVGElement is required; got "+e)},l=function(e){return new Promise((function(t,n){c(e)?t(e):n(new Error("an HTMLElement or SVGElement is required; got "+e))}))},p=function(e){var t=Object.keys(u).filter((function(t){return e.indexOf("."+t)>0})).map((function(e){return u[e]}));return t?t[0]:(console.error("Unknown font format for "+e+". Fonts may not be working correctly."),"application/octet-stream")},d=function(e,t,n){var r=e.viewBox&&e.viewBox.baseVal&&e.viewBox.baseVal[n]||null!==t.getAttribute(n)&&!t.getAttribute(n).match(/%$/)&&parseInt(t.getAttribute(n))||e.getBoundingClientRect()[n]||parseInt(t.style[n])||parseInt(window.getComputedStyle(e).getPropertyValue(n));return"undefined"===typeof r||null===r||isNaN(parseFloat(r))?0:r},f=function(e){for(var t=window.atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),o=new Uint8Array(r),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return new Blob([r],{type:n})},h=function(e){return Promise.all(Array.from(e.querySelectorAll("image")).map((function(e){var t,n=e.getAttributeNS("http://www.w3.org/1999/xlink","href")||e.getAttribute("href");return n?((t=n)&&0===t.lastIndexOf("http",0)&&-1===t.lastIndexOf(window.location.host)&&(n+=(-1===n.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise((function(t,r){var o=document.createElement("canvas"),a=new Image;a.crossOrigin="anonymous",a.src=n,a.onerror=function(){return r(new Error("Could not load "+n))},a.onload=function(){o.width=a.width,o.height=a.height,o.getContext("2d").drawImage(a,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",o.toDataURL("image/png")),t(!0)}}))):Promise.resolve(null)})))},g={},v=function(e){return Promise.all(e.map((function(e){return new Promise((function(t,n){if(g[e.url])return t(g[e.url]);var r=new XMLHttpRequest;r.addEventListener("load",(function(){var n=function(e){for(var t="",n=new Uint8Array(e),r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}(r.response),o=e.text.replace(i,'url("data:'+e.format+";base64,"+n+'")')+"\n";g[e.url]=o,t(o)})),r.addEventListener("error",(function(n){console.warn("Failed to load font from: "+e.url,n),g[e.url]=null,t(null)})),r.addEventListener("abort",(function(n){console.warn("Aborted loading font from: "+e.url,n),t(null)})),r.open("GET",e.url),r.responseType="arraybuffer",r.send()}))}))).then((function(e){return e.filter((function(e){return e})).join("")}))},m=null,w=function(e,t){var n=t||{},r=n.selectorRemap,o=n.modifyStyle,a=n.modifyCss,u=n.fonts,c=n.excludeUnusedCss,s=a||function(e,t){return(r?r(e):e)+"{"+(o?o(t):t)+"}\n"},l=[],d="undefined"===typeof u,f=u||[];return(m||(m=Array.from(document.styleSheets).map((function(e){try{return{rules:e.cssRules,href:e.href}}catch(t){return console.warn("Stylesheet could not be loaded: "+e.href,t),{}}})))).forEach((function(t){var n=t.rules,r=t.href;n&&Array.from(n).forEach((function(t){if("undefined"!=typeof t.style)if(function(e,t){if(t)try{return e.querySelector(t)||e.parentNode&&e.parentNode.querySelector(t)}catch(n){console.warn('Invalid CSS selector "'+t+'"',n)}}(e,t.selectorText))l.push(s(t.selectorText,t.style.cssText));else if(d&&t.cssText.match(/^@font-face/)){var n=function(e,t){var n=e.cssText.match(i),r=n&&n[1]||"";if(r&&!r.match(/^data:/)&&"about:blank"!==r){var o=r.startsWith("../")?t+"/../"+r:r.startsWith("./")?t+"/."+r:r;return{text:e.cssText,format:p(o),url:o}}}(t,r);n&&f.push(n)}else c||l.push(t.cssText)}))})),v(f).then((function(e){return l.join("\n")+e}))},y=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};n.prepareSvg=function(e,t,n){s(e);var r=t||{},i=r.left,u=void 0===i?0:i,c=r.top,l=void 0===c?0:c,p=r.width,f=r.height,g=r.scale,v=void 0===g?1:g,m=r.responsive,y=void 0!==m&&m,b=r.excludeCss,O=void 0!==b&&b;return h(e).then((function(){var r=e.cloneNode(!0);r.style.backgroundColor=(t||{}).backgroundColor||e.style.backgroundColor;var i=function(e,t,n,r){if("svg"===e.tagName)return{width:n||d(e,t,"width"),height:r||d(e,t,"height")};if(e.getBBox){var o=e.getBBox(),a=o.x,i=o.y;return{width:a+o.width,height:i+o.height}}}(e,r,p,f),c=i.width,s=i.height;if("svg"!==e.tagName){if(!e.getBBox)return void console.error("Attempted to render non-SVG element",e);null!=r.getAttribute("transform")&&r.setAttribute("transform",r.getAttribute("transform").replace(/translate\(.*?\)/,""));var h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.appendChild(r),r=h}if(r.setAttribute("version","1.1"),r.setAttribute("viewBox",[u,l,c,s].join(" ")),r.getAttribute("xmlns")||r.setAttributeNS(o,"xmlns",a),r.getAttribute("xmlns:xlink")||r.setAttributeNS(o,"xmlns:xlink","http://www.w3.org/1999/xlink"),y?(r.removeAttribute("width"),r.removeAttribute("height"),r.setAttribute("preserveAspectRatio","xMinYMin meet")):(r.setAttribute("width",c*v),r.setAttribute("height",s*v)),Array.from(r.querySelectorAll("foreignObject > *")).forEach((function(e){e.setAttributeNS(o,"xmlns","svg"===e.tagName?a:"http://www.w3.org/1999/xhtml")})),!O)return w(e,t).then((function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.innerHTML="<![CDATA[\n"+e+"\n]]>";var o=document.createElement("defs");o.appendChild(t),r.insertBefore(o,r.firstChild);var a=document.createElement("div");a.appendChild(r);var i=a.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!==typeof n)return{src:i,width:c,height:s};n(i,c,s)}));var g=document.createElement("div");g.appendChild(r);var m=g.innerHTML;if("function"!==typeof n)return{src:m,width:c,height:s};n(m,c,s)}))},n.svgAsDataUri=function(e,t,r){return s(e),n.prepareSvg(e,t).then((function(e){var t=e.src,n=e.width,o=e.height,a="data:image/svg+xml;base64,"+window.btoa(decodeURIComponent(encodeURIComponent('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+t).replace(/%([0-9A-F]{2})/g,(function(e,t){var n=String.fromCharCode("0x"+t);return"%"===n?"%25":n}))));return"function"===typeof r&&r(a,n,o),a}))},n.svgAsPngUri=function(e,t,r){s(e);var o=t||{},a=o.encoderType,i=void 0===a?"image/png":a,u=o.encoderOptions,c=void 0===u?.8:u,l=o.canvg,p=function(e){var t=e.src,n=e.width,o=e.height,a=document.createElement("canvas"),u=a.getContext("2d"),s=window.devicePixelRatio||1;a.width=n*s,a.height=o*s,a.style.width=a.width+"px",a.style.height=a.height+"px",u.setTransform(s,0,0,s,0,0),l?l(a,t):u.drawImage(t,0,0);var p=void 0;try{p=a.toDataURL(i,c)}catch(d){if("undefined"!==typeof SecurityError&&d instanceof SecurityError||"SecurityError"===d.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw d}return"function"===typeof r&&r(p,a.width,a.height),Promise.resolve(p)};return l?n.prepareSvg(e,t).then(p):n.svgAsDataUri(e,t).then((function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(p({src:r,width:r.width,height:r.height}))},r.onerror=function(){n("There was an error loading the data URI as an image on the following SVG\n"+window.atob(e.slice(26))+"Open the following link to see browser's diagnosis\n"+e)},r.src=e}))}))},n.download=function(e,t,n){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(f(t),e);else{var r=document.createElement("a");if("download"in r){r.download=e,r.style.display="none",document.body.appendChild(r);try{var o=f(t),a=URL.createObjectURL(o);r.href=a,r.onclick=function(){return requestAnimationFrame((function(){return URL.revokeObjectURL(a)}))}}catch(i){console.error(i),console.warn("Error while getting object URL. Falling back to string URL."),r.href=t}r.click(),document.body.removeChild(r)}else n&&n.popup&&(n.popup.document.title=e,n.popup.location.replace(t))}},n.saveSvg=function(e,t,r){var o=y();return l(e).then((function(e){return n.svgAsDataUri(e,r||{})})).then((function(e){return n.download(t,e,o)}))},n.saveSvgAsPng=function(e,t,r){var o=y();return l(e).then((function(e){return n.svgAsPngUri(e,r||{})})).then((function(e){return n.download(t,e,o)}))}}()}},[["/VqF",1,2,3,0,4,5,7,11]]]);