(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"5Kf0":function(n,e,t){n.exports=t.p+"static/chunks/0.8495698fc3b6a1852dee.worker.js"},"DtL+":function(n,e,t){"use strict";(function(n){var i=t("OnzC"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),l=t("roxr"),c=t("JBtm"),u=t.n(c),s=t("j/s1"),d=t("RbC2"),m=t("O1Fn"),h=t("9bu8"),b=r.a.createElement,g=Object(a.E)(600),f=function(){return t.e(12).then(t.bind(null,"ppfC")).then((function(n){var e=n.divide;return function(n){var t;return e(n.points,n.labels,!!n.visibility,null!==(t=n.keyword)&&void 0!==t?t:"")}}))},p=function(){return new Worker(n,void 0)},v=Object(s.c)(l.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],g),j=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(a.E)(20),g),O={show:!0,position:"top",formatter:function(n){return n.data.showing?n.data.name:""}};e.a=function(n){var e=n.run,t=n.running,r=n.labelVisibility,l=n.keyword,c=n.reduction,s=n.dimension,g=Object(h.g)("common").t,y=Object(m.b)("/embeddings/embedding?".concat(u.a.stringify({run:null!==e&&void 0!==e?e:"",dimension:Number.parseInt(s),reduction:c})),!!t),w=y.data,C=y.error,E=y.loading,k=Object(o.useMemo)((function(){var n,e;return{points:null!==(n=null===w||void 0===w?void 0:w.embedding)&&void 0!==n?n:[],keyword:l,labels:null!==(e=null===w||void 0===w?void 0:w.labels)&&void 0!==e?e:[],visibility:r}}),[w,r,l]),_=Object(d.a)(f,p,i.divide,k),S=Object(o.useMemo)((function(){var n,e;return[{name:"highlighted",data:null!==(n=null===_||void 0===_?void 0:_[0])&&void 0!==n?n:[],label:O},{name:"others",data:null!==(e=null===_||void 0===_?void 0:_[1])&&void 0!==e?e:[],label:O,color:a.C}]}),[_]);return!w&&C?b(j,null,g("common:error")):w||E?b(v,{loading:E,data:S,gl:"3d"===s}):b(j,null,g("common:empty"))}}).call(this,t("5Kf0"))},IMpY:function(n,e){},OnzC:function(n,e,t){"use strict";t.d(e,"divide",(function(){return i}));t("IMpY");var i=function(n){var e=n.points,t=n.keyword;return function(n,e){if(!e)return[[],n];var t=[],i=[];return n.forEach((function(n){n.name.includes(e)?t.push(n):i.push(n)})),[t,i]}(function(n,e,t){return n.map((function(n,i){return{name:e[i]||"",showing:!!t,value:n}}))}(e,n.labels,n.visibility),t)}},ioac:function(n,e,t){"use strict";t.r(e);var i=t("9bu8"),o=t("ERkP"),r=t.n(o),a=t("gI5n"),l=t("r8eb"),c=t("j/s1"),u=r.a.createElement,s=c.c.hr.withConfig({displayName:"AsideDivider__Divider",componentId:"sc-8t78og-0"})(["background-color:transparent;margin:0;border:none;height:",";"],(function(n){var e=n.height;return e?"number"===e?Object(l.E)(e):e:Object(l.E)(30)})),d=function(n){var e=n.height;return u(s,{height:e})},m=t("PKwP"),h=t("QRo2"),b=t("wK9i"),g=t("DtL+"),f=t("TpTG"),p=t("1HTM"),v=t("s+3g"),j=t("jd94"),O=t("Obvh"),y=t("bbjh"),w=t("C34g"),C=t("7xIC"),E=t("O1Fn"),k=t("XPj2"),_=r.a.createElement,S=["2d","3d"],P=["pca","tsne"],I=c.c.section.withConfig({displayName:"high-dimensional__AsideSection",componentId:"sc-1mk5cn7-0"})(["padding:",";"],Object(l.E)(20)),x=Object(c.c)(a.a).withConfig({displayName:"high-dimensional__StyledSelect",componentId:"sc-1mk5cn7-1"})(["min-width:",";"],Object(l.q)(160)),D=Object(c.c)(f.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-2"})(["margin-right:",";vertical-align:middle;"],Object(l.q)(4)),N=c.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-3"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(l.E)(16),Object(l.E)(16),Object(l.E)(10)),z=function(){var n=Object(i.g)(["high-dimensional","common"]).t,e=Object(o.useState)(!0),t=e[0],a=e[1],l=Object(C.useRouter)().query,c=Array.isArray(l.run)?l.run[0]:l.run,u=Object(E.b)("/runs",t),s=u.data,f=u.error,z=u.loading,A=c&&(null===s||void 0===s?void 0:s.includes(c))?c:null===s||void 0===s?void 0:s[0],T=Object(o.useState)(A),M=T[0],R=T[1];Object(o.useEffect)((function(){return R(A)}),[R,A]);var q=Object(o.useState)(""),H=q[0],F=q[1],J=Object(k.a)(H),K=Object(o.useState)(S[0]),X=K[0],L=K[1],Q=Object(o.useState)(P[0]),V=Q[0],W=Q[1],Y=Object(o.useState)(!0),B=Y[0],G=Y[1],Z=_(I,null,_(N,null,n("common:select-runs")),_(x,{list:s,value:M,onChange:function(n){return R(n)}}),_(d,null),_(b.a,null,_(y.a,{placeholder:n("common:search"),value:H,onChange:F})),_(b.a,null,_(m.a,{value:B,onChange:G},n("high-dimensional:display-all-label"))),_(d,null),_(N,null,_(D,{type:"dimension"}),n("high-dimensional:dimension")),_(b.a,null,_(j.c,{value:X,onChange:function(n){return L(n)}},S.map((function(e){return _(v.a,{key:e,value:e},n(e))})))),_(d,null),_(N,null,_(D,{type:"reduction"}),n("high-dimensional:reduction-method")),_(b.a,null,_(j.c,{value:V,onChange:function(n){return W(n)}},P.map((function(e){return _(v.a,{key:e,value:e},n(e))})))),_(O.a,{running:t,onToggle:a}));return _(r.a.Fragment,null,_(p.a,{url:"/runs"}),_(w.a,null,n("common:high-dimensional")),_(h.a,{aside:Z,loading:z},f?_("div",null,n("common:error")):z?null:_(g.a,{dimension:X,keyword:J,run:null!==M&&void 0!==M?M:"",running:t,labelVisibility:B,reduction:V})))};z.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}};e.default=z},roxr:function(n,e,t){"use strict";var i=t("zjfJ"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),l=t("zqQH"),c=t.n(l),u=t("j/s1"),s=t("kF6i"),d=r.a.createElement;function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function h(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){Object(i.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var b=u.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],Object(a.A)("absolute",0,null,null,0),Object(a.H)("100%")),g={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},f={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},p={symbolSize:12,type:"scatter"},v={symbolSize:12,type:"scatter3D"};e.a=function(n){var e=n.data,t=n.loading,i=n.gl,r=n.className,l=Object(s.a)({loading:t,gl:i}),u=l.ref,m=l.echart,j=Object(o.useMemo)((function(){var n;return h({},i?f:g,{series:null!==(n=null===e||void 0===e?void 0:e.map((function(n){return h({},i?v:p,{},n)})))&&void 0!==n?n:[]})}),[i,e]);return Object(o.useEffect)((function(){var n;null===m||void 0===m||null===(n=m.current)||void 0===n||n.setOption(j,{notMerge:!0})}),[j,m]),d(b,{className:r},!m&&d("div",{className:"loading"},d(c.a,{color:a.C,size:"10px"})),d("div",{className:"echarts",ref:u}))}},uaEc:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])}},[["uaEc",1,2,3,0,4,6,5,7,10,15]]]);