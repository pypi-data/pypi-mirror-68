(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"DtL+":function(n,e,t){"use strict";(function(n){var i=t("OnzC"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),c=t("roxr"),l=t("JBtm"),u=t.n(l),s=t("j/s1"),d=t("RbC2"),m=t("O1Fn"),b=t("9bu8"),h=r.a.createElement,g=Object(a.E)(600),f=function(){return t.e(11).then(t.bind(null,"ppfC")).then((function(n){var e=n.divide;return function(n){var t;return e(n.points,n.labels,!!n.visibility,null!==(t=n.keyword)&&void 0!==t?t:"")}}))},p=function(){return new Worker(n,void 0)},v=Object(s.c)(c.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],g),j=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(a.E)(20),g),O={show:!0,position:"top",formatter:function(n){return n.data.showing?n.data.name:""}};e.a=function(n){var e=n.run,t=n.running,r=n.labelVisibility,c=n.keyword,l=n.reduction,s=n.dimension,g=Object(b.g)("common").t,y=Object(m.b)("/embeddings/embedding?".concat(u.a.stringify({run:null!==e&&void 0!==e?e:"",dimension:Number.parseInt(s),reduction:l})),!!t),w=y.data,E=y.error,C=y.loading,k=Object(o.useMemo)((function(){var n,e;return{points:null!==(n=null===w||void 0===w?void 0:w.embedding)&&void 0!==n?n:[],keyword:c,labels:null!==(e=null===w||void 0===w?void 0:w.labels)&&void 0!==e?e:[],visibility:r}}),[w,r,c]),_=Object(d.a)(f,p,i.divide,k),S=Object(o.useMemo)((function(){var n,e;return[{name:"highlighted",data:null!==(n=null===_||void 0===_?void 0:_[0])&&void 0!==n?n:[],label:O},{name:"others",data:null!==(e=null===_||void 0===_?void 0:_[1])&&void 0!==e?e:[],label:O,color:a.C}]}),[_]);return!w&&E?h(j,null,g("common:error")):w||C?h(v,{loading:C,data:S,gl:"3d"===s}):h(j,null,g("common:empty"))}}).call(this,t("dDaE"))},IMpY:function(n,e){},OnzC:function(n,e,t){"use strict";t.d(e,"divide",(function(){return i}));t("IMpY");var i=function(n){var e=n.points,t=n.keyword;return function(n,e){if(!e)return[[],n];var t=[],i=[];return n.forEach((function(n){n.name.includes(e)?t.push(n):i.push(n)})),[t,i]}(function(n,e,t){return n.map((function(n,i){return{name:e[i]||"",showing:!!t,value:n}}))}(e,n.labels,n.visibility),t)}},dDaE:function(n,e,t){n.exports=t.p+"static/chunks/2.4f5bb2803f02be8d912d.worker.js"},ioac:function(n,e,t){"use strict";t.r(e);var i=t("9bu8"),o=t("ERkP"),r=t.n(o),a=t("gI5n"),c=t("r8eb"),l=t("j/s1"),u=r.a.createElement,s=l.c.hr.withConfig({displayName:"AsideDivider__Divider",componentId:"sc-8t78og-0"})(["background-color:transparent;margin:0;border:none;height:",";"],(function(n){var e=n.height;return e?"number"===e?Object(c.E)(e):e:Object(c.E)(30)})),d=function(n){var e=n.height;return u(s,{height:e})},m=t("PKwP"),b=t("QRo2"),h=t("wK9i"),g=t("DtL+"),f=t("TpTG"),p=t("1HTM"),v=t("s+3g"),j=t("jd94"),O=t("Obvh"),y=t("bbjh"),w=t("C34g"),E=t("7xIC"),C=t("O1Fn"),k=t("XPj2"),_=r.a.createElement,S=["2d","3d"],D=["pca","tsne"],P=l.c.section.withConfig({displayName:"high-dimensional__AsideSection",componentId:"sc-1mk5cn7-0"})(["padding:",";"],Object(c.E)(20)),I=Object(l.c)(a.a).withConfig({displayName:"high-dimensional__StyledSelect",componentId:"sc-1mk5cn7-1"})(["min-width:",";"],Object(c.q)(160)),x=Object(l.c)(f.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-2"})(["margin-right:",";vertical-align:middle;"],Object(c.q)(4)),N=l.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-3"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(c.E)(16),Object(c.E)(16),Object(c.E)(10)),z=function(){var n=Object(i.g)(["high-dimensional","common"]).t,e=Object(o.useState)(!0),t=e[0],a=e[1],c=Object(E.useRouter)().query,l=Array.isArray(c.run)?c.run[0]:c.run,u=Object(C.b)("/runs",t),s=u.data,f=u.error,z=u.loading,A=l&&(null===s||void 0===s?void 0:s.includes(l))?l:null===s||void 0===s?void 0:s[0],T=Object(o.useState)(A),M=T[0],R=T[1];Object(o.useEffect)((function(){return R(A)}),[R,A]);var q=Object(o.useState)(""),H=q[0],F=q[1],J=Object(k.a)(H),X=Object(o.useState)(S[0]),K=X[0],L=X[1],Q=Object(o.useState)(D[0]),V=Q[0],W=Q[1],Y=Object(o.useState)(!0),B=Y[0],G=Y[1],Z=_(P,null,_(N,null,n("common:select-runs")),_(I,{list:s,value:M,onChange:function(n){return R(n)}}),_(d,null),_(h.a,null,_(y.a,{placeholder:n("common:search"),value:H,onChange:F})),_(h.a,null,_(m.a,{value:B,onChange:G},n("high-dimensional:display-all-label"))),_(d,null),_(N,null,_(x,{type:"dimension"}),n("high-dimensional:dimension")),_(h.a,null,_(j.c,{value:K,onChange:function(n){return L(n)}},S.map((function(e){return _(v.a,{key:e,value:e},n(e))})))),_(d,null),_(N,null,_(x,{type:"reduction"}),n("high-dimensional:reduction-method")),_(h.a,null,_(j.c,{value:V,onChange:function(n){return W(n)}},D.map((function(e){return _(v.a,{key:e,value:e},n(e))})))),_(O.a,{running:t,onToggle:a}));return _(r.a.Fragment,null,_(p.a,{url:"/runs"}),_(w.a,null,n("common:high-dimensional")),_(b.a,{aside:Z,loading:z},f?_("div",null,n("common:error")):z?null:_(g.a,{dimension:K,keyword:J,run:null!==M&&void 0!==M?M:"",running:t,labelVisibility:B,reduction:V})))};z.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}};e.default=z},roxr:function(n,e,t){"use strict";var i=t("zjfJ"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),c=t("zqQH"),l=t.n(c),u=t("j/s1"),s=t("kF6i"),d=r.a.createElement;function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function b(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){Object(i.a)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var h=u.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;background-color:",";> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],a.c,Object(a.A)("absolute",0,null,null,0),Object(a.H)("100%")),g={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},f={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},p={symbolSize:12,type:"scatter"},v={symbolSize:12,type:"scatter3D"};e.a=function(n){var e=n.data,t=n.loading,i=n.gl,r=n.className,c=Object(s.a)({loading:t,gl:i}),u=c.ref,m=c.echart,j=Object(o.useMemo)((function(){var n;return b({},i?f:g,{series:null!==(n=null===e||void 0===e?void 0:e.map((function(n){return b({},i?v:p,{},n)})))&&void 0!==n?n:[]})}),[i,e]);return Object(o.useEffect)((function(){var n;null===m||void 0===m||null===(n=m.current)||void 0===n||n.setOption(j,{notMerge:!0})}),[j,m]),d(h,{className:r},!m&&d("div",{className:"loading"},d(l.a,{color:a.C,size:"10px"})),d("div",{className:"echarts",ref:u}))}},uaEc:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])}},[["uaEc",1,2,3,0,5,4,6,9,12]]]);