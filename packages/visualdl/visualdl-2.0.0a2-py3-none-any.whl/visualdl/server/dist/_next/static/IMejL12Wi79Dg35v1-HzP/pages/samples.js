/*! For license information please see samples.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"26Hi":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/samples",function(){return n("aMnP")}])},MwrP:function(e,t,n){var r=n("4uJK"),a=n("kkM+"),c=n("bvyN"),o=n("wxYD"),i=n("9y2L"),u=n("3ajY"),s=n("CbIe"),l=n("Qd2C"),f="[object Map]",p="[object Set]",g=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||c(e)))return!e.length;var t=a(e);if(t==f||t==p)return!e.size;if(s(e))return!r(e).length;for(var n in e)if(g.call(e,n))return!1;return!0}},aMnP:function(e,t,n){"use strict";n.r(t);var r=n("zjfJ"),a=n("HbGN"),c=n("s8Q3"),o=n("9bu8"),i=n("ERkP"),u=n.n(i),s=n("PKwP"),l=n("QRo2"),f=n("wK9i"),p=n("1HTM"),g=n("0KuU"),b=n("Uqjl"),m=n("zqQH"),d=n.n(m),O=n("zB2q"),h=n.n(O),j=n("r8eb"),v=n("etrl"),y=n("O1Fn"),w=u.a.createElement,x=u.a.forwardRef((function(e,t){var n=e.src,r=e.cache,a=Object(o.g)("common").t,c=Object(i.useState)(""),u=c[0],s=c[1],l=Object(y.a)(null!==n&&void 0!==n?n:null,b.a,{dedupingInterval:null!==r&&void 0!==r?r:2e3}),f=l.data,p=l.error,g=l.loading;return Object(i.useImperativeHandle)(t,(function(){return{save:function(e){if(f){var t=f.type?h.a.extension(f.type):null;Object(v.saveAs)(f.data,e.replace(/[/\\?%*:|"<>]/g,"_")+(t?".".concat(t):""))}}}})),Object(i.useLayoutEffect)((function(){if(f){var e;return e=URL.createObjectURL(f.data),s(e),function(){e&&URL.revokeObjectURL(e)}}}),[f]),g?w(d.a,{color:j.C,size:"10px"}):p?w("div",null,a("error")):w("img",{src:u})})),C=n("Ns5m"),P=n("lXyp"),k=n("j/s1"),S=u.a.createElement,R=k.c.div.withConfig({displayName:"StepSlider__Label",componentId:"sc-1er4gsv-0"})(["display:flex;justify-content:space-between;color:",";font-size:",";margin-bottom:",";>:not(:first-child){flex-grow:0;}"],j.K,Object(j.q)(12),Object(j.q)(5)),_=Object(k.c)(P.a).withConfig({displayName:"StepSlider__FullWidthRangeSlider",componentId:"sc-1er4gsv-1"})(["width:100%;"]),E=function(e){var t,n=e.onChange,r=e.onChangeComplete,a=e.value,c=e.steps,s=e.children,l=Object(o.g)("samples").t,f=Object(i.useState)(a),p=f[0],g=f[1];Object(i.useEffect)((function(){return g(a)}),[a]);var b=Object(i.useCallback)((function(e){g(e),null===n||void 0===n||n(e)}),[n]);return S(u.a.Fragment,null,S(R,null,S("span",null,"".concat(l("step"),": ").concat(null!==(t=c[p])&&void 0!==t?t:"...")),s&&S("span",null,s)),S(_,{min:0,max:c.length?c.length-1:0,step:1,value:p,onChange:b,onChangeComplete:r}))},q=n("cBaE"),T=n("MwrP"),z=n.n(T),L=n("JBtm"),M=n.n(L),N=u.a.createElement,I=k.c.div.withConfig({displayName:"SampleChart__Wrapper",componentId:"sc-1gq2xxh-0"})(["height:100%;padding:",";padding-bottom:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;> *{flex-grow:0;flex-shrink:0;}"],Object(j.q)(20)),H=k.c.div.withConfig({displayName:"SampleChart__Title",componentId:"sc-1gq2xxh-1"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:",";> h4{font-size:",";font-weight:700;flex-shrink:1;flex-grow:1;padding:0;margin:0;","}> span{font-size:",";flex-shrink:0;flex-grow:0;color:",";}"],Object(j.q)(20),Object(j.q)(16),Object(j.p)(),Object(j.q)(14),j.K),K=k.c.div.withConfig({displayName:"SampleChart__Container",componentId:"sc-1gq2xxh-2"})(["flex-grow:1;flex-shrink:1;margin:"," 0;display:flex;justify-content:center;align-items:center;overflow:hidden;> img{"," filter:brightness(",") contrast(",");"," object-fit:",";flex-shrink:1;}"],Object(j.q)(20),Object(j.H)("100%"),(function(e){var t;return null!==(t=e.brightness)&&void 0!==t?t:1}),(function(e){var t;return null!==(t=e.contrast)&&void 0!==t?t:1}),Object(j.O)("filter"),(function(e){return e.fit?"contain":"scale-down"})),U=function(e){var t=e.run,n=e.tag,r=e.brightness,a=e.contrast,c=e.fit,u=e.running,s=Object(o.g)(["samples","common"]),l=s.t,f=s.i18n,p=Object(i.useRef)(null),g=Object(y.b)("/images/list?".concat(M.a.stringify({run:t,tag:n})),!!u),b=g.data,m=g.error,O=g.loading,h=Object(i.useMemo)((function(){var e;return null!==(e=null===b||void 0===b?void 0:b.map((function(e){return e.step})))&&void 0!==e?e:[]}),[b]),v=Object(i.useState)(0),w=v[0],P=v[1],k=Object(i.useState)(),S=k[0],R=k[1],_=Object(i.useRef)({}),T=Object(i.useRef)(null);Object(i.useEffect)((function(){Object.values(_.current).forEach((function(e){var t=e.timer;return clearTimeout(t)})),_.current={}}),[n,t]);var L=Object(i.useMemo)((function(){var e;return null!==(e=null===b||void 0===b?void 0:b[w].wallTime)&&void 0!==e?e:0}),[b,w]),U=Object(i.useCallback)((function(){if(b){var e=function(e,t,n,r){return"/images/image?".concat(M.a.stringify({index:e,ts:r,run:t,tag:n}))}(w,t,n,L);_.current[w]={src:e,timer:setTimeout((function(){var e;e=w,delete _.current[e]}),3e5)},R(e)}}),[w,t,n,L,b]),D=Object(i.useCallback)((function(){var e;null===(e=p.current)||void 0===e||e.save("".concat(t,"-").concat(n,"-").concat(h[w],"-").concat(L.toString().replace(/\./,"_")))}),[t,n,h,w,L]);Object(i.useEffect)((function(){if(_.current[w])R(_.current[w].src);else{if(!z()(_.current))return T.current=setTimeout(U,500),function(){T.current&&clearTimeout(T.current)};U()}}),[w,U]);var F=Object(i.useMemo)((function(){return O||!_.current[w]?N(d.a,{color:j.C,size:"10px"}):!b&&m?N("span",null,l("common:error")):z()(b)?N("span",null,l("common:empty")):N(x,{ref:p,src:S,cache:3e5})}),[O,m,b,w,S,l]);return N(I,null,N(H,null,N("h4",null,n),N("span",null,t)),N(E,{value:w,steps:h,onChange:P,onChangeComplete:U},Object(q.a)(1e3*L,f.language)),N(K,{brightness:r,contrast:a,fit:c},F),N(C.a,{items:[{icon:"download",tooltip:l("download-image"),onClick:D}]}))},D=n("ypiw"),F=n("C34g"),J=n("t2fH"),X=u.a.createElement;function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q={height:Object(j.E)(406)},A=function(){var e=Object(o.g)(["samples","common"]).t,t=Object(i.useState)(!0),n=t[0],b=t[1],m=Object(J.a)("images",n),d=m.runs,O=m.tags,h=m.selectedRuns,j=m.onChangeRuns,v=m.loadingRuns,y=m.loadingTags,w=Object(i.useMemo)((function(){return O.reduce((function(e,t){var n=t.runs,c=Object(a.a)(t,["runs"]);return Array.prototype.push.apply(e,n.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,{run:e.label,id:"".concat(c.label,"-").concat(e.label)})}))),e}),[])}),[O]),x=Object(i.useState)(!1),C=x[0],P=x[1],k=Object(i.useState)(1),S=k[0],R=k[1],_=Object(i.useState)(1),E=_[0],q=_[1],T=X(g.a,{runs:d,selectedRuns:h,onChangeRuns:j,running:n,onToggleRunning:b},X("section",null,X(s.a,{value:C,onChange:P},e("show-actual-size"))),X("section",null,X(f.a,{label:e("brightness")},X(D.a,{min:0,max:2,step:.01,value:S,onChange:R}))),X("section",null,X(f.a,{label:e("contrast")},X(D.a,{min:0,max:2,step:.01,value:E,onChange:q})))),z=Object(i.useCallback)((function(e){var t=e.run,r=e.label;return X(U,{run:t,tag:r,fit:!C,running:n,brightness:S,contrast:E})}),[C,n,S,E]);return X(u.a.Fragment,null,X(p.a,{url:"/runs"}),X(p.a,{url:"/images/tags"}),X(F.a,null,e("common:samples")),X(l.a,{aside:T,loading:v},X(c.a,{items:w,chartSize:Q,withChart:z,loading:v||y})))};A.getInitialProps=function(){return{namespacesRequired:["samples","common"]}};t.default=A},tPXl:function(e,t,n){e.exports=n("6nKi")},zB2q:function(e,t,n){"use strict";var r=n("tPXl"),a=n("oNVP").extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,o=/^text\//i;function i(e){if(!e||"string"!==typeof e)return!1;var t=c.exec(e),n=t&&r[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!o.test(t[1]))&&"UTF-8"}t.charset=i,t.charsets={lookup:i},t.contentType=function(e){if(!e||"string"!==typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var r=t.charset(n);r&&(n+="; charset="+r.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!==typeof e)return!1;var n=c.exec(e),r=n&&t.extensions[n[1].toLowerCase()];if(!r||!r.length)return!1;return r[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!==typeof e)return!1;var n=a("x."+e).toLowerCase().substr(1);if(!n)return!1;return t.types[n]||!1},t.types=Object.create(null),function(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(r).forEach((function(a){var c=r[a],o=c.extensions;if(o&&o.length){e[a]=o;for(var i=0;i<o.length;i++){var u=o[i];if(t[u]){var s=n.indexOf(r[t[u]].source),l=n.indexOf(c.source);if("application/octet-stream"!==t[u]&&(s>l||s===l&&"application/"===t[u].substr(0,12)))continue}t[u]=a}}}))}(t.extensions,t.types)}},[["26Hi",1,2,3,16,0,4,6,5,7,9,10,11,15]]]);