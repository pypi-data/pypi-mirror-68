(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"5Kf0":function(e,n,t){e.exports=t.p+"static/chunks/0.8495698fc3b6a1852dee.worker.js"},"DtL+":function(e,n,t){"use strict";(function(e){var i=t("OnzC"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),c=t("roxr"),l=t("JBtm"),u=t.n(l),s=t("j/s1"),d=t("RbC2"),m=t("O1Fn"),b=t("9bu8"),h=r.a.createElement,g=Object(a.E)(600),f=function(){return t.e(12).then(t.bind(null,"ppfC")).then((function(e){var n=e.divide;return function(e){var t;return n(e.points,e.labels,!!e.visibility,null!==(t=e.keyword)&&void 0!==t?t:"")}}))},p=function(){return new Worker(e,void 0)},v=Object(s.c)(c.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],g),j=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(a.E)(20),g),O={show:!0,position:"top",formatter:function(e){return e.data.showing?e.data.name:""}};n.a=function(e){var n=e.run,t=e.running,r=e.labelVisibility,c=e.keyword,l=e.reduction,s=e.dimension,g=Object(b.g)("common").t,y=Object(m.b)("/embeddings/embedding?".concat(u.a.stringify({run:null!==n&&void 0!==n?n:"",dimension:Number.parseInt(s),reduction:l})),!!t),w=y.data,C=y.error,E=y.loading,k=Object(o.useMemo)((function(){var e,n;return{points:null!==(e=null===w||void 0===w?void 0:w.embedding)&&void 0!==e?e:[],keyword:c,labels:null!==(n=null===w||void 0===w?void 0:w.labels)&&void 0!==n?n:[],visibility:r}}),[w,r,c]),_=Object(d.a)(f,p,i.divide,k),S=Object(o.useMemo)((function(){var e,n;return[{name:"highlighted",data:null!==(e=null===_||void 0===_?void 0:_[0])&&void 0!==e?e:[],label:O},{name:"others",data:null!==(n=null===_||void 0===_?void 0:_[1])&&void 0!==n?n:[],label:O,color:a.C}]}),[_]);return!w&&C?h(j,null,g("error")):w||E?h(v,{loading:E,data:S,gl:"3d"===s}):h(j,null,g("empty"))}}).call(this,t("5Kf0"))},IMpY:function(e,n){},OnzC:function(e,n,t){"use strict";t.d(n,"divide",(function(){return i}));t("IMpY");var i=function(e){var n=e.points,t=e.keyword;return function(e,n){if(!n)return[[],e];var t=[],i=[];return e.forEach((function(e){e.name.includes(n)?t.push(e):i.push(e)})),[t,i]}(function(e,n,t){return e.map((function(e,i){return{name:n[i]||"",showing:!!t,value:e}}))}(n,e.labels,e.visibility),t)}},ioac:function(e,n,t){"use strict";t.r(n);var i=t("9bu8"),o=t("ERkP"),r=t.n(o),a=t("gI5n"),c=t("r8eb"),l=t("j/s1"),u=r.a.createElement,s=l.c.hr.withConfig({displayName:"AsideDivider__Divider",componentId:"sc-8t78og-0"})(["background-color:transparent;margin:0;border:none;height:",";"],(function(e){var n=e.height;return n?"number"===n?Object(c.E)(n):n:Object(c.E)(30)})),d=function(e){var n=e.height;return u(s,{height:n})},m=t("PKwP"),b=t("QRo2"),h=t("wK9i"),g=t("DtL+"),f=t("TpTG"),p=t("1HTM"),v=t("s+3g"),j=t("jd94"),O=t("Obvh"),y=t("bbjh"),w=t("C34g"),C=t("7xIC"),E=t("O1Fn"),k=t("XPj2"),_=r.a.createElement,S=["2d","3d"],P=["pca","tsne"],I=l.c.section.withConfig({displayName:"high-dimensional__AsideSection",componentId:"sc-1mk5cn7-0"})(["padding:",";"],Object(c.E)(20)),x=Object(l.c)(a.a).withConfig({displayName:"high-dimensional__StyledSelect",componentId:"sc-1mk5cn7-1"})(["min-width:",";"],Object(c.q)(160)),D=Object(l.c)(f.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-2"})(["margin-right:",";vertical-align:middle;"],Object(c.q)(4)),N=l.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-3"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(c.E)(16),Object(c.E)(16),Object(c.E)(10)),z=function(){var e=Object(i.g)(["high-dimensional","common"]).t,n=Object(o.useState)(!0),t=n[0],a=n[1],c=Object(C.useRouter)().query,l=Array.isArray(c.run)?c.run[0]:c.run,u=Object(E.b)("/runs",t),s=u.data,f=u.error,z=u.loading,A=l&&(null===s||void 0===s?void 0:s.includes(l))?l:null===s||void 0===s?void 0:s[0],T=Object(o.useState)(A),M=T[0],R=T[1];Object(o.useEffect)((function(){return R(A)}),[R,A]);var q=Object(o.useState)(""),H=q[0],F=q[1],J=Object(k.a)(H),K=Object(o.useState)(S[0]),X=K[0],L=K[1],Q=Object(o.useState)(P[0]),V=Q[0],W=Q[1],Y=Object(o.useState)(!0),B=Y[0],G=Y[1],Z=_(I,null,_(N,null,e("common:select-runs")),_(x,{list:s,value:M,onChange:function(e){return R(e)}}),_(d,null),_(h.a,null,_(y.a,{placeholder:e("common:search"),value:H,onChange:F})),_(h.a,null,_(m.a,{value:B,onChange:G},e("display-all-label"))),_(d,null),_(N,null,_(D,{type:"dimension"}),e("dimension")),_(h.a,null,_(j.c,{value:X,onChange:function(e){return L(e)}},S.map((function(n){return _(v.a,{key:n,value:n},e(n))})))),_(d,null),_(N,null,_(D,{type:"reduction"}),e("reduction-method")),_(h.a,null,_(j.c,{value:V,onChange:function(e){return W(e)}},P.map((function(n){return _(v.a,{key:n,value:n},e(n))})))),_(O.a,{running:t,onToggle:a}));return _(r.a.Fragment,null,_(p.a,{url:"/runs"}),_(w.a,null,e("common:high-dimensional")),_(b.a,{aside:Z,loading:z},f?_("div",null,e("common:error")):z?null:_(g.a,{dimension:X,keyword:J,run:null!==M&&void 0!==M?M:"",running:t,labelVisibility:B,reduction:V})))};z.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}};n.default=z},roxr:function(e,n,t){"use strict";var i=t("zjfJ"),o=t("ERkP"),r=t.n(o),a=t("r8eb"),c=t("zqQH"),l=t.n(c),u=t("j/s1"),s=t("kF6i"),d=r.a.createElement;function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){Object(i.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=u.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],Object(a.A)("absolute",0,null,null,0),Object(a.H)("100%")),g={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},f={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},p={symbolSize:12,type:"scatter"},v={symbolSize:12,type:"scatter3D"};n.a=function(e){var n=e.data,t=e.loading,i=e.gl,r=e.className,c=Object(s.a)({loading:t,gl:i}),u=c.ref,m=c.echart,j=Object(o.useMemo)((function(){var e;return b({},i?f:g,{series:null!==(e=null===n||void 0===n?void 0:n.map((function(e){return b({},i?v:p,{},e)})))&&void 0!==e?e:[]})}),[i,n]);return Object(o.useEffect)((function(){var e;null===m||void 0===m||null===(e=m.current)||void 0===e||e.setOption(j,{notMerge:!0})}),[j,m]),d(h,{className:r},!m&&d("div",{className:"loading"},d(l.a,{color:a.C,size:"10px"})),d("div",{className:"echarts",ref:u}))}},uaEc:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])}},[["uaEc",1,2,3,0,4,6,5,7,9,13]]]);