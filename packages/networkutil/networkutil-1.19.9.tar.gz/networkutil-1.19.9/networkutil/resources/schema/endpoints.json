{
  "$schema": "http://json-schema.org/schema#",
  "description": "Schema for networkutil endpoints config",

  "definitions": {

    "environments": {
      "type": "array",
      "items": {"type": "string"}
    },

    "apis": {
      "type": "object",
      "items": { "$ref": "#/definitions/api" }
    },

    "api": {
      "type": "object",
      "items": { "$ref": "#/definitions/api_environment" }
    },

    "api_environment": {
      "type": "object",
      "properties": {
        "methods": {
          "type": "array",
          "items": {"type": "string"}
        },
        "key": {"type": "string"},
        "secret": {"type": "string"},
        "user": {"type": "string"},
        "password": {"type": "string"},
        "parameters": {
          "type": "object"
        }
      },
      "additionalProperties": false
    },

    "endpoints": {
      "type": "object",
      "items": { "$ref": "#/definitions/endpoint" }
    },

    "endpoint": {
      "type": "object",
      "properties": {
        "port": {"type": "number"},
        "environment": {"type": "string"},
        "apis": {
          "type": "array",
          "items": {"type": "string"}
        }
      },
      "required": ["port", "environment", "apis"],
      "additionalProperties": false
    }

  },

  "type": "object",
  "properties": {
    "environments": { "$ref": "#/definitions/environments" },
    "apis": { "$ref": "#/definitions/apis" },
    "endpoints": { "$ref": "#/definitions/endpoints" }
  },
  "required": ["environments", "apis", "endpoints"],
  "additionalProperties": false
}